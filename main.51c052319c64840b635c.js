!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=40)}([function(t,e,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)i(n,r)&&(t[r]=n[r])}}return t},e.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var o={arraySet:function(t,e,n,r,i){if(e.subarray&&t.subarray)t.set(e.subarray(n,n+r),i);else for(var o=0;o<r;o++)t[i+o]=e[n+o]},flattenChunks:function(t){var e,n,r,i,o,a;for(r=0,e=0,n=t.length;e<n;e++)r+=t[e].length;for(a=new Uint8Array(r),i=0,e=0,n=t.length;e<n;e++)o=t[e],a.set(o,i),i+=o.length;return a}},a={arraySet:function(t,e,n,r,i){for(var o=0;o<r;o++)t[i+o]=e[n+o]},flattenChunks:function(t){return[].concat.apply([],t)}};e.setTyped=function(t){t?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,o)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,a))},e.setTyped(r)},function(t,e,n){"use strict";var r=n(7),i=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};t.exports=c;var o=n(5);o.inherits=n(2);var a=n(12),s=n(10);o.inherits(c,a);for(var u=i(s.prototype),f=0;f<u.length;f++){var h=u[f];c.prototype[h]||(c.prototype[h]=s.prototype[h])}function c(t){if(!(this instanceof c))return new c(t);a.call(this,t),s.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",l)}function l(){this.allowHalfOpen||this._writableState.ended||r.nextTick(d,this)}function d(t){t.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),c.prototype._destroy=function(t,e){this.push(null),this.end(),r.nextTick(e,t)}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";var r,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var a=Number.isNaN||function(t){return t!=t};function s(){s.init.call(this)}t.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var u=10;function f(t){return void 0===t._maxListeners?s.defaultMaxListeners:t._maxListeners}function h(t,e,n,r){var i,o,a,s;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),a=o[e]),void 0===a)a=o[e]=n,++t._eventsCount;else if("function"==typeof a?a=o[e]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=f(t))>0&&a.length>i&&!a.warned){a.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=a.length,s=u,console&&console.warn&&console.warn(s)}return t}function c(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=function(){for(var t=[],e=0;e<arguments.length;e++)t.push(arguments[e]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,o(this.listener,this.target,t))}.bind(r);return i.listener=n,r.wrapFn=i,i}function l(t,e,n){var r=t._events;if(void 0===r)return[];var i=r[e];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(i):p(i,i.length)}function d(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(t){if("number"!=typeof t||t<0||a(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");u=t}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||a(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},s.prototype.getMaxListeners=function(){return f(this)},s.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r="error"===t,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var a;if(e.length>0&&(a=e[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=i[t];if(void 0===u)return!1;if("function"==typeof u)o(u,this,e);else{var f=u.length,h=p(u,f);for(n=0;n<f;++n)o(h[n],this,e)}return!0},s.prototype.addListener=function(t,e){return h(this,t,e,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(t,e){return h(this,t,e,!0)},s.prototype.once=function(t,e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);return this.on(t,c(this,t,e)),this},s.prototype.prependOnceListener=function(t,e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);return this.prependListener(t,c(this,t,e)),this},s.prototype.removeListener=function(t,e){var n,r,i,o,a;if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);if(void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,i),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,a||e)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},s.prototype.listeners=function(t){return l(this,t,!0)},s.prototype.rawListeners=function(t){return l(this,t,!1)},s.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):d.call(t,e)},s.prototype.listenerCount=d,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(t,e,n){(function(t){function n(t){return Object.prototype.toString.call(t)}e.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===n(t)},e.isBoolean=function(t){return"boolean"==typeof t},e.isNull=function(t){return null===t},e.isNullOrUndefined=function(t){return null==t},e.isNumber=function(t){return"number"==typeof t},e.isString=function(t){return"string"==typeof t},e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=function(t){return void 0===t},e.isRegExp=function(t){return"[object RegExp]"===n(t)},e.isObject=function(t){return"object"==typeof t&&null!==t},e.isDate=function(t){return"[object Date]"===n(t)},e.isError=function(t){return"[object Error]"===n(t)||t instanceof Error},e.isFunction=function(t){return"function"==typeof t},e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=t.isBuffer}).call(this,n(15).Buffer)},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,f=[],h=!1,c=-1;function l(){h&&u&&(h=!1,u.length?f=u.concat(f):c=-1,f.length&&d())}function d(){if(!h){var t=s(l);h=!0;for(var e=f.length;e;){for(u=f,f=[];++c<e;)u&&u[c].run();c=-1,e=f.length}u=null,h=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function m(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];f.push(new p(t,e)),1!==f.length||h||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){"use strict";(function(e){!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:function(t,n,r,i){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick(function(){t.call(null,n)});case 3:return e.nextTick(function(){t.call(null,n,r)});case 4:return e.nextTick(function(){t.call(null,n,r,i)});default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return e.nextTick(function(){t.apply(null,o)})}}}:t.exports=e}).call(this,n(6))},function(t,e,n){var r=n(15),i=r.Buffer;function o(t,e){for(var n in t)e[n]=t[n]}function a(t,e,n){return i(t,e,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(o(r,e),e.Buffer=a),o(i,a),a.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,n)},a.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=i(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},a.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},a.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}},function(t,e,n){(e=t.exports=n(12)).Stream=e,e.Readable=e,e.Writable=n(10),e.Duplex=n(1),e.Transform=n(18),e.PassThrough=n(51)},function(t,e,n){"use strict";(function(e,r,i){var o=n(7);function a(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,n){var r=t.entry;t.entry=null;for(;r;){var i=r.callback;e.pendingcb--,i(n),r=r.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}(e,t)}}t.exports=v;var s,u=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?r:o.nextTick;v.WritableState=b;var f=n(5);f.inherits=n(2);var h={deprecate:n(50)},c=n(14),l=n(8).Buffer,d=i.Uint8Array||function(){};var p,m=n(16);function g(){}function b(t,e){s=s||n(1),t=t||{};var r=e instanceof s;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var i=t.highWaterMark,f=t.writableHighWaterMark,h=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(f||0===f)?f:h,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var c=!1===t.decodeStrings;this.decodeStrings=!c,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var n=t._writableState,r=n.sync,i=n.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(n),e)!function(t,e,n,r,i){--e.pendingcb,n?(o.nextTick(i,r),o.nextTick(M,t,e),t._writableState.errorEmitted=!0,t.emit("error",r)):(i(r),t._writableState.errorEmitted=!0,t.emit("error",r),M(t,e))}(t,n,r,e,i);else{var a=x(n);a||n.corked||n.bufferProcessing||!n.bufferedRequest||_(t,n),r?u(y,t,n,a,i):y(t,n,a,i)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function v(t){if(s=s||n(1),!(p.call(v,this)||this instanceof s))return new v(t);this._writableState=new b(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),c.call(this)}function w(t,e,n,r,i,o,a){e.writelen=r,e.writecb=a,e.writing=!0,e.sync=!0,n?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function y(t,e,n,r){n||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,r(),M(t,e)}function _(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var r=e.bufferedRequestCount,i=new Array(r),o=e.corkedRequestsFree;o.entry=n;for(var s=0,u=!0;n;)i[s]=n,n.isBuf||(u=!1),n=n.next,s+=1;i.allBuffers=u,w(t,e,!0,e.length,i,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new a(e),e.bufferedRequestCount=0}else{for(;n;){var f=n.chunk,h=n.encoding,c=n.callback;if(w(t,e,!1,e.objectMode?1:f.length,f,h,c),n=n.next,e.bufferedRequestCount--,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}function x(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function E(t,e){t._final(function(n){e.pendingcb--,n&&t.emit("error",n),e.prefinished=!0,t.emit("prefinish"),M(t,e)})}function M(t,e){var n=x(e);return n&&(!function(t,e){e.prefinished||e.finalCalled||("function"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,o.nextTick(E,t,e)):(e.prefinished=!0,t.emit("prefinish")))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),n}f.inherits(v,c),b.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(b.prototype,"buffer",{get:h.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(p=Function.prototype[Symbol.hasInstance],Object.defineProperty(v,Symbol.hasInstance,{value:function(t){return!!p.call(this,t)||this===v&&(t&&t._writableState instanceof b)}})):p=function(t){return t instanceof this},v.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},v.prototype.write=function(t,e,n){var r,i=this._writableState,a=!1,s=!i.objectMode&&(r=t,l.isBuffer(r)||r instanceof d);return s&&!l.isBuffer(t)&&(t=function(t){return l.from(t)}(t)),"function"==typeof e&&(n=e,e=null),s?e="buffer":e||(e=i.defaultEncoding),"function"!=typeof n&&(n=g),i.ended?function(t,e){var n=new Error("write after end");t.emit("error",n),o.nextTick(e,n)}(this,n):(s||function(t,e,n,r){var i=!0,a=!1;return null===n?a=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||e.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(t.emit("error",a),o.nextTick(r,a),i=!1),i}(this,i,t,n))&&(i.pendingcb++,a=function(t,e,n,r,i,o){if(!n){var a=function(t,e,n){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=l.from(e,n));return e}(e,r,i);r!==a&&(n=!0,i="buffer",r=a)}var s=e.objectMode?1:r.length;e.length+=s;var u=e.length<e.highWaterMark;u||(e.needDrain=!0);if(e.writing||e.corked){var f=e.lastBufferedRequest;e.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},f?f.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else w(t,e,!1,s,r,i,o);return u}(this,i,s,t,e,n)),a},v.prototype.cork=function(){this._writableState.corked++},v.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||_(this,t))},v.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(v.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),v.prototype._write=function(t,e,n){n(new Error("_write() is not implemented"))},v.prototype._writev=null,v.prototype.end=function(t,e,n){var r=this._writableState;"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!=t&&this.write(t,e),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(t,e,n){e.ending=!0,M(t,e),n&&(e.finished?o.nextTick(n):t.once("finish",n));e.ended=!0,t.writable=!1}(this,r,n)},Object.defineProperty(v.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),v.prototype.destroy=m.destroy,v.prototype._undestroy=m.undestroy,v.prototype._destroy=function(t,e){this.end(),e(t)}}).call(this,n(6),n(48).setImmediate,n(3))},function(t,e,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(t,e,n){"use strict";(function(e,r){var i=n(7);t.exports=w;var o,a=n(13);w.ReadableState=v;n(4).EventEmitter;var s=function(t,e){return t.listeners(e).length},u=n(14),f=n(8).Buffer,h=e.Uint8Array||function(){};var c=n(5);c.inherits=n(2);var l=n(45),d=void 0;d=l&&l.debuglog?l.debuglog("stream"):function(){};var p,m=n(46),g=n(16);c.inherits(w,u);var b=["error","close","destroy","pause","resume"];function v(t,e){t=t||{};var r=e instanceof(o=o||n(1));this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var i=t.highWaterMark,a=t.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(p||(p=n(17).StringDecoder),this.decoder=new p(t.encoding),this.encoding=t.encoding)}function w(t){if(o=o||n(1),!(this instanceof w))return new w(t);this._readableState=new v(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),u.call(this)}function y(t,e,n,r,i){var o,a=t._readableState;null===e?(a.reading=!1,function(t,e){if(e.ended)return;if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,M(t)}(t,a)):(i||(o=function(t,e){var n;r=e,f.isBuffer(r)||r instanceof h||"string"==typeof e||void 0===e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));var r;return n}(a,e)),o?t.emit("error",o):a.objectMode||e&&e.length>0?("string"==typeof e||a.objectMode||Object.getPrototypeOf(e)===f.prototype||(e=function(t){return f.from(t)}(e)),r?a.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):_(t,a,e,!0):a.ended?t.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!n?(e=a.decoder.write(e),a.objectMode||0!==e.length?_(t,a,e,!1):A(t,a)):_(t,a,e,!1))):r||(a.reading=!1));return function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(a)}function _(t,e,n,r){e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,r?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&M(t)),A(t,e)}Object.defineProperty(w.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),w.prototype.destroy=g.destroy,w.prototype._undestroy=g.undestroy,w.prototype._destroy=function(t,e){this.push(null),e(t)},w.prototype.push=function(t,e){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof t&&((e=e||r.defaultEncoding)!==r.encoding&&(t=f.from(t,e),e=""),n=!0),y(this,t,e,!1,n)},w.prototype.unshift=function(t){return y(this,t,null,!0,!1)},w.prototype.isPaused=function(){return!1===this._readableState.flowing},w.prototype.setEncoding=function(t){return p||(p=n(17).StringDecoder),this._readableState.decoder=new p(t),this._readableState.encoding=t,this};var x=8388608;function E(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=x?t=x:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function M(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(d("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?i.nextTick(k,t):k(t))}function k(t){d("emit readable"),t.emit("readable"),B(t)}function A(t,e){e.readingMore||(e.readingMore=!0,i.nextTick(T,t,e))}function T(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(d("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function R(t){d("readable nexttick read 0"),t.read(0)}function S(t,e){e.reading||(d("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),B(t),e.flowing&&!e.reading&&t.read(0)}function B(t){var e=t._readableState;for(d("flow",e.flowing);e.flowing&&null!==t.read(););}function F(t,e){return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):n=function(t,e,n){var r;t<e.head.data.length?(r=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):r=t===e.head.data.length?e.shift():n?function(t,e){var n=e.head,r=1,i=n.data;t-=i.length;for(;n=n.next;){var o=n.data,a=t>o.length?o.length:t;if(a===o.length?i+=o:i+=o.slice(0,t),0===(t-=a)){a===o.length?(++r,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=o.slice(a));break}++r}return e.length-=r,i}(t,e):function(t,e){var n=f.allocUnsafe(t),r=e.head,i=1;r.data.copy(n),t-=r.data.length;for(;r=r.next;){var o=r.data,a=t>o.length?o.length:t;if(o.copy(n,n.length-t,0,a),0===(t-=a)){a===o.length?(++i,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=o.slice(a));break}++i}return e.length-=i,n}(t,e);return r}(t,e.buffer,e.decoder),n);var n}function L(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,i.nextTick(P,e,t))}function P(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function U(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}w.prototype.read=function(t){d("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return d("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?L(this):M(this),null;if(0===(t=E(t,e))&&e.ended)return 0===e.length&&L(this),null;var r,i=e.needReadable;return d("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&d("length less than watermark",i=!0),e.ended||e.reading?d("reading or ended",i=!1):i&&(d("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=E(n,e))),null===(r=t>0?F(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&L(this)),null!==r&&this.emit("data",r),r},w.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},w.prototype.pipe=function(t,e){var n=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=t;break;case 1:o.pipes=[o.pipes,t];break;default:o.pipes.push(t)}o.pipesCount+=1,d("pipe count=%d opts=%j",o.pipesCount,e);var u=(!e||!1!==e.end)&&t!==r.stdout&&t!==r.stderr?h:w;function f(e,r){d("onunpipe"),e===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,d("cleanup"),t.removeListener("close",b),t.removeListener("finish",v),t.removeListener("drain",c),t.removeListener("error",g),t.removeListener("unpipe",f),n.removeListener("end",h),n.removeListener("end",w),n.removeListener("data",m),l=!0,!o.awaitDrain||t._writableState&&!t._writableState.needDrain||c())}function h(){d("onend"),t.end()}o.endEmitted?i.nextTick(u):n.once("end",u),t.on("unpipe",f);var c=function(t){return function(){var e=t._readableState;d("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&s(t,"data")&&(e.flowing=!0,B(t))}}(n);t.on("drain",c);var l=!1;var p=!1;function m(e){d("ondata"),p=!1,!1!==t.write(e)||p||((1===o.pipesCount&&o.pipes===t||o.pipesCount>1&&-1!==U(o.pipes,t))&&!l&&(d("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,p=!0),n.pause())}function g(e){d("onerror",e),w(),t.removeListener("error",g),0===s(t,"error")&&t.emit("error",e)}function b(){t.removeListener("finish",v),w()}function v(){d("onfinish"),t.removeListener("close",b),w()}function w(){d("unpipe"),n.unpipe(t)}return n.on("data",m),function(t,e,n){if("function"==typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?a(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}(t,"error",g),t.once("close",b),t.once("finish",v),t.emit("pipe",n),o.flowing||(d("pipe resume"),n.resume()),t},w.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n),this);if(!t){var r=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var a=U(e.pipes,t);return-1===a?this:(e.pipes.splice(a,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n),this)},w.prototype.on=function(t,e){var n=u.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&M(this):i.nextTick(R,this))}return n},w.prototype.addListener=w.prototype.on,w.prototype.resume=function(){var t=this._readableState;return t.flowing||(d("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,i.nextTick(S,t,e))}(this,t)),this},w.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this},w.prototype.wrap=function(t){var e=this,n=this._readableState,r=!1;for(var i in t.on("end",function(){if(d("wrapped end"),n.decoder&&!n.ended){var t=n.decoder.end();t&&t.length&&e.push(t)}e.push(null)}),t.on("data",function(i){(d("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i)||(n.objectMode||i&&i.length)&&(e.push(i)||(r=!0,t.pause()))}),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var o=0;o<b.length;o++)t.on(b[o],this.emit.bind(this,b[o]));return this._read=function(e){d("wrapped _read",e),r&&(r=!1,t.resume())},this},Object.defineProperty(w.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),w._fromList=F}).call(this,n(3),n(6))},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){t.exports=n(4).EventEmitter},function(t,e,n){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var r=n(43),i=n(44),o=n(13);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return c(this,t)}return f(this,t,e,n)}function f(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r);u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=l(t,e);return t}(t,e,n,r):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(e,n),i=(t=s(t,r)).write(e,n);i!==r&&(t=t.slice(0,i));return t}(t,e,n):function(t,e){if(u.isBuffer(e)){var n=0|d(e.length);return 0===(t=s(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(r=e.length)!=r?s(t,0):l(t,e);if("Buffer"===e.type&&o(e.data))return l(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function h(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function c(t,e){if(h(e),t=s(t,e<0?0:0|d(e)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function l(t,e){var n=e.length<0?0:0|d(e.length);t=s(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function d(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function p(t,e){if(u.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return N(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return j(t).length;default:if(r)return N(t).length;e=(""+e).toLowerCase(),r=!0}}function m(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function g(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=u.from(e,r)),u.isBuffer(e))return 0===e.length?-1:b(t,e,n,r,i);if("number"==typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):b(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function b(t,e,n,r,i){var o,a=1,s=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,s/=2,u/=2,n/=2}function f(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(i){var h=-1;for(o=n;o<s;o++)if(f(t,o)===f(e,-1===h?0:o-h)){if(-1===h&&(h=o),o-h+1===u)return h*a}else-1!==h&&(o-=o-h),h=-1}else for(n+u>s&&(n=s-u),o=n;o>=0;o--){for(var c=!0,l=0;l<u;l++)if(f(t,o+l)!==f(e,l)){c=!1;break}if(c)return o}return-1}function v(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function w(t,e,n,r){return q(N(e,t.length-n),t,n,r)}function y(t,e,n,r){return q(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function _(t,e,n,r){return y(t,e,n,r)}function x(t,e,n,r){return q(j(e),t,n,r)}function E(t,e,n,r){return q(function(t,e){for(var n,r,i,o=[],a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function M(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function k(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,a,s,u,f=t[i],h=null,c=f>239?4:f>223?3:f>191?2:1;if(i+c<=n)switch(c){case 1:f<128&&(h=f);break;case 2:128==(192&(o=t[i+1]))&&(u=(31&f)<<6|63&o)>127&&(h=u);break;case 3:o=t[i+1],a=t[i+2],128==(192&o)&&128==(192&a)&&(u=(15&f)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(h=u);break;case 4:o=t[i+1],a=t[i+2],s=t[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(u=(15&f)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(h=u)}null===h?(h=65533,c=1):h>65535&&(h-=65536,r.push(h>>>10&1023|55296),h=56320|1023&h),r.push(h),i+=c}return function(t){var e=t.length;if(e<=A)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=A));return n}(r)}e.Buffer=u,e.SlowBuffer=function(t){+t!=t&&(t=0);return u.alloc(+t)},e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=a(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,n){return f(null,t,e,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,n){return function(t,e,n,r){return h(e),e<=0?s(t,e):void 0!==n?"string"==typeof r?s(t,e).fill(n,r):s(t,e).fill(n):s(t,e)}(null,t,e,n)},u.allocUnsafe=function(t){return c(null,t)},u.allocUnsafeSlow=function(t){return c(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=u.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var a=t[n];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)m(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?k(this,0,t):function(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return S(this,e,n);case"utf8":case"utf-8":return k(this,e,n);case"ascii":return T(this,e,n);case"latin1":case"binary":return R(this,e,n);case"base64":return M(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,e,n,r,i){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(e>>>=0),s=Math.min(o,a),f=this.slice(r,i),h=t.slice(e,n),c=0;c<s;++c)if(f[c]!==h[c]){o=f[c],a=h[c];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},u.prototype.indexOf=function(t,e,n){return g(this,t,e,n,!0)},u.prototype.lastIndexOf=function(t,e,n){return g(this,t,e,n,!1)},u.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return v(this,t,e,n);case"utf8":case"utf-8":return w(this,t,e,n);case"ascii":return y(this,t,e,n);case"latin1":case"binary":return _(this,t,e,n);case"base64":return x(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var A=4096;function T(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function R(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function S(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=D(t[o]);return i}function B(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function F(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function L(t,e,n,r,i,o){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function P(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function U(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function C(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function z(t,e,n,r,o){return o||C(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function O(t,e,n,r,o){return o||C(t,0,n,8),i.write(t,e,n,r,52,8),n+8}u.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=u.prototype;else{var i=e-t;n=new u(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+t]}return n},u.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||F(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},u.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||F(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},u.prototype.readUInt8=function(t,e){return e||F(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||F(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||F(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||F(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||F(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||F(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},u.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||F(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},u.prototype.readInt8=function(t,e){return e||F(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||F(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(t,e){e||F(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(t,e){return e||F(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||F(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||F(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||F(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||F(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||F(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||L(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},u.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||L(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},u.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):P(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):P(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):U(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):U(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);L(this,t,e,n,i-1,-i)}var o=0,a=1,s=0;for(this[e]=255&t;++o<n&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},u.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);L(this,t,e,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},u.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):P(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):P(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):U(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):U(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,n){return z(this,t,e,!0,n)},u.prototype.writeFloatBE=function(t,e,n){return z(this,t,e,!1,n)},u.prototype.writeDoubleLE=function(t,e,n){return O(this,t,e,!0,n)},u.prototype.writeDoubleBE=function(t,e,n){return O(this,t,e,!1,n)},u.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;i>=0;--i)t[i+e]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},u.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var a=u.isBuffer(t)?t:N(new u(t,r).toString()),s=a.length;for(o=0;o<n-e;++o)this[o+e]=a[o%s]}return this};var I=/[^+\/0-9A-Za-z-_]/g;function D(t){return t<16?"0"+t.toString(16):t.toString(16)}function N(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],a=0;a<r;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function j(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(I,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function q(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}}).call(this,n(3))},function(t,e,n){"use strict";var r=n(7);function i(t,e){t.emit("error",e)}t.exports={destroy:function(t,e){var n=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return o||a?(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||r.nextTick(i,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!e&&t?(r.nextTick(i,n,t),n._writableState&&(n._writableState.errorEmitted=!0)):e&&e(t)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(t,e,n){"use strict";var r=n(8).Buffer,i=r.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(r.isEncoding===i||!i(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=u,this.end=f,e=4;break;case"utf8":this.fillLast=s,e=4;break;case"base64":this.text=h,this.end=c,e=3;break;default:return this.write=l,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(e)}function a(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function s(t){var e=this.lastTotal-this.lastNeed,n=function(t,e,n){if(128!=(192&e[0]))return t.lastNeed=0,"";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,""}}(this,t);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function u(t,e){if((t.length-e)%2==0){var n=t.toString("utf16le",e);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function f(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function h(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function c(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function l(t){return t.toString(this.encoding)}function d(t){return t&&t.length?this.write(t):""}e.StringDecoder=o,o.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},o.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"":e},o.prototype.text=function(t,e){var n=function(t,e,n){var r=e.length-1;if(r<n)return 0;var i=a(e[r]);if(i>=0)return i>0&&(t.lastNeed=i-1),i;if(--r<n||-2===i)return 0;if((i=a(e[r]))>=0)return i>0&&(t.lastNeed=i-2),i;if(--r<n||-2===i)return 0;if((i=a(e[r]))>=0)return i>0&&(2===i?i=0:t.lastNeed=i-3),i;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var r=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,r),t.toString("utf8",e,r)},o.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},function(t,e,n){"use strict";t.exports=a;var r=n(1),i=n(5);function o(t,e){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=e&&this.push(e),r(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function a(t){if(!(this instanceof a))return new a(t);r.call(this,t),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",s)}function s(){var t=this;"function"==typeof this._flush?this._flush(function(e,n){u(t,e,n)}):u(this,null,null)}function u(t,e,n){if(e)return t.emit("error",e);if(null!=n&&t.push(n),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}i.inherits=n(2),i.inherits(a,r),a.prototype.push=function(t,e){return this._transformState.needTransform=!1,r.prototype.push.call(this,t,e)},a.prototype._transform=function(t,e,n){throw new Error("_transform() is not implemented")},a.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},a.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},a.prototype._destroy=function(t,e){var n=this;r.prototype._destroy.call(this,t,function(t){e(t),n.emit("close")})}},function(t,e,n){"use strict";t.exports=function(t,e,n,r){for(var i=65535&t|0,o=t>>>16&65535|0,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{o=o+(i=i+e[r++]|0)|0}while(--a);i%=65521,o%=65521}return i|o<<16|0}},function(t,e,n){"use strict";var r=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();t.exports=function(t,e,n,i){var o=r,a=i+n;t^=-1;for(var s=i;s<a;s++)t=t>>>8^o[255&(t^e[s])];return-1^t}},function(t,e,n){"use strict";var r=n(0),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(t){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){o=!1}for(var a=new r.Buf8(256),s=0;s<256;s++)a[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;function u(t,e){if(e<65534&&(t.subarray&&o||!t.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(t,e));for(var n="",a=0;a<e;a++)n+=String.fromCharCode(t[a]);return n}a[254]=a[254]=1,e.string2buf=function(t){var e,n,i,o,a,s=t.length,u=0;for(o=0;o<s;o++)55296==(64512&(n=t.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),u+=n<128?1:n<2048?2:n<65536?3:4;for(e=new r.Buf8(u),a=0,o=0;a<u;o++)55296==(64512&(n=t.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),n<128?e[a++]=n:n<2048?(e[a++]=192|n>>>6,e[a++]=128|63&n):n<65536?(e[a++]=224|n>>>12,e[a++]=128|n>>>6&63,e[a++]=128|63&n):(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63,e[a++]=128|n>>>6&63,e[a++]=128|63&n);return e},e.buf2binstring=function(t){return u(t,t.length)},e.binstring2buf=function(t){for(var e=new r.Buf8(t.length),n=0,i=e.length;n<i;n++)e[n]=t.charCodeAt(n);return e},e.buf2string=function(t,e){var n,r,i,o,s=e||t.length,f=new Array(2*s);for(r=0,n=0;n<s;)if((i=t[n++])<128)f[r++]=i;else if((o=a[i])>4)f[r++]=65533,n+=o-1;else{for(i&=2===o?31:3===o?15:7;o>1&&n<s;)i=i<<6|63&t[n++],o--;o>1?f[r++]=65533:i<65536?f[r++]=i:(i-=65536,f[r++]=55296|i>>10&1023,f[r++]=56320|1023&i)}return u(f,r)},e.utf8border=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;n>=0&&128==(192&t[n]);)n--;return n<0?e:0===n?e:n+a[t[n]]>e?n:e}},function(t,e,n){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(t,e,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(t,e){t.exports="#version 300 es\nprecision mediump float;\n\nlayout(location = 0) in vec3 position;\nlayout(location = 1) in vec3 normal;\n\nout vec3 fragPosition;\nout vec3 fragNormal;\n\nuniform mat4 camera;\nuniform mat4 transform;\n\nvoid main(void) {\n  fragNormal = normalize(transpose(inverse(mat3(transform))) * normal);\n  fragPosition = vec3(transform * vec4(position, 1.0));\n  gl_Position = camera * transform * vec4(position, 1.0);\n}\n"},function(t,e){t.exports="#version 300 es\nprecision mediump float;\n\nin vec3 fragNormal;\nin vec3 fragPosition;\n\nlayout(location = 0) out vec4 outColor;\nlayout(location = 1) out vec4 outNormal;\nlayout(location = 2) out vec4 outPosition;\n\nuniform vec3 albedo;\nvec3 gridColor = vec3(0.8, 0.8, 0.8);\n\nvoid main(void) {\n  vec2 coord = fragPosition.xz;\n  vec2 grid = abs(fract(coord - 0.5) - 0.5) / fwidth(coord);\n  float fcoord = length(fragPosition.xz);\n  float fgrid = abs(fract(fcoord - 0.5) - 0.5) / fwidth(fcoord);\n  float factor = 1.0 - min(min(grid.x, min(grid.y, fgrid)), 1.0);\n  outColor = vec4(mix(albedo, gridColor, factor), 1.0);\n  outPosition = vec4(fragPosition, 1.0);\n  outNormal = vec4(fragNormal, 1.0);\n}\n"},function(t,e){t.exports="#version 300 es\nprecision mediump float;\n\nlayout(location = 0) in vec3 position;\nout vec2 fragUV;\n\nvoid main(void) {\n  gl_Position = vec4(position, 1.0);\n  fragUV = (position.xy + 1.0) * 0.5;\n}\n"},function(t,e){t.exports="#version 300 es\nprecision mediump float;\n\nout vec4 outColor;\nin vec2 fragUV;\n\nuniform vec3 camera;\nuniform sampler2D colorTexture;\nuniform sampler2D depthTexture;\nuniform sampler2D positionTexture;\nuniform sampler2D normalTexture;\n\nstruct Light {\n  vec3 position;\n  vec3 color;\n};\n\nconst int NUM_LIGHTS = 16;\nuniform Light lights[NUM_LIGHTS];\n\nvec3 Lighting(vec3 color, vec3 normal, vec3 position) {\n  vec3 lighting;\n  vec3 viewDir = normalize(camera - position);\n  for (int i = 0; i < NUM_LIGHTS; i += 1) {\n      // diffuse\n      vec3 lightDir = normalize(lights[i].position - position);\n      vec3 diffuse = max(dot(normal, lightDir), 0.0) * color * lights[i].color;\n      // specular\n      vec3 halfwayDir = normalize(lightDir + viewDir);  \n      float spec = pow(max(dot(normal, halfwayDir), 0.0), 16.0);\n      vec3 specular = lights[i].color * spec * color;\n      // attenuation\n      float distance = length(lights[i].position - position);\n      float attenuation = 1.0 / (1.0 + 0.35 * distance + 0.44 * distance * distance);\n      lighting += (diffuse + specular) * attenuation;\n  }\n  return lighting;\n}\n\nconst mat3 sobel_y = mat3( \n  1.0, 0.0, -1.0, \n  2.0, 0.0, -2.0, \n  1.0, 0.0, -1.0 \n);\n\nconst mat3 sobel_x = mat3(\n  1.0, 2.0, 1.0, \n  0.0, 0.0, 0.0,\n  -1.0, -2.0, -1.0\n);\n\nconst float near = 0.1; \nconst float far = 1000.0;\n\nfloat linearizeDepth(float depth) {\n  float z = depth * 2.0 - 1.0;\n  return (2.0 * near * far) / (far + near - z * (far - near));\n}\n\nfloat Sobel(sampler2D targetTexture, vec2 resolution) {\n  float x = 1.5 / resolution.x;\n  float y = 1.5 / resolution.y;\n  mat3 I;\n  for (int i = 0; i < 3; i++) {\n    for (int j = 0; j < 3; j++) {\n      I[i][j] = linearizeDepth(texture(targetTexture, fragUV + vec2(x * float(i - 1), y * float(j - 1))).r);\n    }\n  }\n  float gx = dot(sobel_x[0], I[0]) + dot(sobel_x[1], I[1]) + dot(sobel_x[2], I[2]); \n  float gy = dot(sobel_y[0], I[0]) + dot(sobel_y[1], I[1]) + dot(sobel_y[2], I[2]);\n  return sqrt(pow(gx, 2.0) + pow(gy, 2.0));\n}\n\n\nconst vec3 background = vec3(0.2, 0.3, 0.4);\n\nvoid main(void) {\n  vec3 color = background;\n  vec3 normal = texture(normalTexture, fragUV).rgb;\n\n  if (\n    normal.x != 0.0\n    || normal.y != 0.0\n    || normal.z != 0.0\n  ) {\n    vec2 resolution = vec2(textureSize(colorTexture, 0));\n    vec3 position = texture(positionTexture, fragUV).rgb;\n\n    // lighting\n    color = Lighting(texture(colorTexture, fragUV).rgb, normalize(normal), position) * 2.0;\n    // edge detection\n    if (Sobel(depthTexture, resolution) >= 2.0) {\n      color = mix(background * 0.5, color, 0.3);\n    }\n    // fog\n    color = mix(color, background, min(length(vec3(position.x, 0, position.z)) / 13.0, 1.0));\n  }\n\n  // vignette\n  float vignette = smoothstep(0.75, 0.5, length(fragUV - vec2(0.5)));\n  color = mix(color, color * vignette, 0.3);\n\n  outColor = vec4(color, 1.0);\n}\n"},function(t,e){t.exports="#version 300 es\nprecision mediump float;\n\nlayout(location = 0) in vec3 position;\nlayout(location = 1) in vec3 normal;\n\nout vec3 fragPosition;\nout vec3 fragNormal;\n\nuniform mat4 camera;\nuniform mat4 transform;\n\nvoid main(void) {\n  fragNormal = normalize(transpose(inverse(mat3(transform))) * normal);\n  fragPosition = vec3(transform * vec4(position, 1.0));\n  gl_Position = camera * transform * vec4(position, 1.0);\n}\n"},function(t,e){t.exports="#version 300 es\nprecision mediump float;\n\nin vec3 fragNormal;\nin vec3 fragPosition;\n\nlayout(location = 0) out vec4 outColor;\nlayout(location = 1) out vec4 outNormal;\nlayout(location = 2) out vec4 outPosition;\n\nuniform vec3 albedo;\n\nvoid main(void) {\n  outColor = vec4(albedo, 1.0);\n  outPosition = vec4(fragPosition, 1.0);\n  outNormal = vec4(fragNormal, 1.0);\n}\n"},function(t,e,n){t.exports=a,a.available=function(){return!!s(document.body)},a.enabled=function(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)};var r=n(4).EventEmitter,i=n(41),o=i.removeEventListener;function a(t){for(var e=t.ownerDocument,n=(e.body,s(t)),a=new r,u=["","webkit","moz"],f=0,h=u.length;f<h;++f)i(e,u[f]+"fullscreenchange",c),i(e,u[f]+"fullscreenerror",l);return i(e,"MSFullscreenChange",c),i(e,"MSFullscreenError",l),a.release=function(){var n=t.exitFullscreen||t.webkitExitFullscreen||t.mozCancelFullScreen||t.mozExitFullScreen||t.msExitFullscreen;if(n)return void n.apply(t,arguments);(e.exitFullscreen||e.webkitExitFullscreen||e.mozCancelFullScreen||e.mozExitFullScreen||e.msExitFullscreen).apply(e,arguments)},a.request=function(){return n.apply(t,arguments)},a.dispose=function(){for(var t=0,n=u.length;t<n;++t)o(e,u[t]+"fullscreenchange",c),o(e,u[t]+"fullscreenerror",l);o(e,"MSFullscreenChange",c),o(e,"MSFullscreenError",l)},a.target=d,s||setTimeout(function(){a.emit("error",new Error("fullscreen is not supported"))},0),a;function c(){if(!d())return a.emit("release");a.emit("attain")}function l(){a.emit("error")}function d(){return e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement||null}}function s(t){return t.requestFullscreen||t.webkitRequestFullscreen||t.mozRequestFullScreen||t.msRequestFullscreen}},function(t,e,n){t.exports=o,o.available=function(){return!!a(document.body)};var r=n(4).EventEmitter,i=n(42).Stream;function o(t){var e,n,o,s=t.addEventListener||t.attachEvent,u=t.removeEventListener||t.detachEvent,f=t.ownerDocument,h=f.body,c=a(t),l={dx:0,dy:0,dt:0},d=new r,p=null,m=!1;s.call(t,"mousedown",w,!1),s.call(t,"mouseup",y,!1),s.call(h,"mousemove",M,!1);for(var g=["","webkit","moz","ms","o"],b=0,v=g.length;b<v;++b)s.call(f,g[b]+"pointerlockchange",_),s.call(f,g[b]+"pointerlockerror",x);return d.release=E,d.target=k,d.request=w,d.destroy=function(){u.call(t,"mouseup",y,!1),u.call(t,"mousedown",w,!1),u.call(t,"mousemove",M,!1)},a||setTimeout(function(){d.emit("error",new Error("pointer lock is not supported"))},0),d;function w(e){k()||(o=+new Date,c.call(t))}function y(t){m&&(d.emit("needs-fullscreen"),m=!1)}function _(t){k()?((p=new i).readable=!0,p.initial={x:e,y:n,t:Date.now()},d.emit("attain",p)):p&&E()}function x(t){+new Date-o<100?m=!0:(d.emit("error"),p&&p.emit("error",t),p=null)}function E(){d.emit("release"),p&&(p.emit("end"),p.readable=!1,p.emit("close"),p=null),k()&&(f.exitPointerLock||f.mozExitPointerLock||f.webkitExitPointerLock||f.msExitPointerLock||f.oExitPointerLock).call(f)}function M(t){e=t.pageX,n=t.pageY,p&&(l.dx=t.movementX||t.webkitMovementX||t.mozMovementX||t.msMovementX||t.oMovementX||0,l.dy=t.movementY||t.webkitMovementY||t.mozMovementY||t.msMovementY||t.oMovementY||0,l.dt=Date.now()-p.initial.t,d.emit("data",l),p.emit("data",l))}function k(){return f.pointerLockElement||f.mozPointerLockElement||f.webkitPointerLockElement||f.msPointerLockElement||f.oPointerLockElement||null}}function a(t){return t.requestPointerLock||t.webkitRequestPointerLock||t.mozRequestPointerLock||t.msRequestPointerLock||t.oRequestPointerLock||null}},function(t,e,n){t.exports=function(){return new Worker(n.p+"physics.worker.479d9e772e6254cc6bef.js")}},function(t,e){t.exports=h,t.exports.parse=i,t.exports.compile=function(t,e){return o(i(t,e))},t.exports.tokensToFunction=o,t.exports.tokensToRegExp=f;var n="/",r=new RegExp(["(\\\\.)","(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?"].join("|"),"g");function i(t,e){for(var i,o=[],u=0,f=0,h="",c=e&&e.delimiter||n,l=e&&e.whitelist||void 0,d=!1;null!==(i=r.exec(t));){var p=i[0],m=i[1],g=i.index;if(h+=t.slice(f,g),f=g+p.length,m)h+=m[1],d=!0;else{var b="",v=i[2],w=i[3],y=i[4],_=i[5];if(!d&&h.length){var x=h.length-1,E=h[x];(!l||l.indexOf(E)>-1)&&(b=E,h=h.slice(0,x))}h&&(o.push(h),h="",d=!1);var M="+"===_||"*"===_,k="?"===_||"*"===_,A=w||y,T=b||c;o.push({name:v||u++,prefix:b,delimiter:T,optional:k,repeat:M,pattern:A?s(A):"[^"+a(T===c?T:T+c)+"]+?"})}}return(h||f<t.length)&&o.push(h+t.substr(f)),o}function o(t){for(var e=new Array(t.length),n=0;n<t.length;n++)"object"==typeof t[n]&&(e[n]=new RegExp("^(?:"+t[n].pattern+")$"));return function(n,r){for(var i="",o=r&&r.encode||encodeURIComponent,a=0;a<t.length;a++){var s=t[a];if("string"!=typeof s){var u,f=n?n[s.name]:void 0;if(Array.isArray(f)){if(!s.repeat)throw new TypeError('Expected "'+s.name+'" to not repeat, but got array');if(0===f.length){if(s.optional)continue;throw new TypeError('Expected "'+s.name+'" to not be empty')}for(var h=0;h<f.length;h++){if(u=o(f[h],s),!e[a].test(u))throw new TypeError('Expected all "'+s.name+'" to match "'+s.pattern+'"');i+=(0===h?s.prefix:s.delimiter)+u}}else if("string"!=typeof f&&"number"!=typeof f&&"boolean"!=typeof f){if(!s.optional)throw new TypeError('Expected "'+s.name+'" to be '+(s.repeat?"an array":"a string"))}else{if(u=o(String(f),s),!e[a].test(u))throw new TypeError('Expected "'+s.name+'" to match "'+s.pattern+'", but got "'+u+'"');i+=s.prefix+u}}else i+=s}return i}}function a(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function s(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function u(t){return t&&t.sensitive?"":"i"}function f(t,e,r){for(var i=(r=r||{}).strict,o=!1!==r.start,s=!1!==r.end,f=r.delimiter||n,h=[].concat(r.endsWith||[]).map(a).concat("$").join("|"),c=o?"^":"",l=0;l<t.length;l++){var d=t[l];if("string"==typeof d)c+=a(d);else{var p=d.repeat?"(?:"+d.pattern+")(?:"+a(d.delimiter)+"(?:"+d.pattern+"))*":d.pattern;e&&e.push(d),d.optional?d.prefix?c+="(?:"+a(d.prefix)+"("+p+"))?":c+="("+p+")?":c+=a(d.prefix)+"("+p+")"}}if(s)i||(c+="(?:"+a(f)+")?"),c+="$"===h?"$":"(?="+h+")";else{var m=t[t.length-1],g="string"==typeof m?m[m.length-1]===f:void 0===m;i||(c+="(?:"+a(f)+"(?="+h+"))?"),g||(c+="(?="+a(f)+"|"+h+")")}return new RegExp(c,u(r))}function h(t,e,n){return t instanceof RegExp?function(t,e){if(!e)return t;var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return t}(t,e):Array.isArray(t)?function(t,e,n){for(var r=[],i=0;i<t.length;i++)r.push(h(t[i],e,n).source);return new RegExp("(?:"+r.join("|")+")",u(n))}(t,e,n):function(t,e,n){return f(i(t,n),e,n)}(t,e,n)}},function(t,e,n){"use strict";var r={};(0,n(0).assign)(r,n(56),n(59),n(23)),t.exports=r},function(t,e,n){t.exports=n.p+"assets/monkey.25b70aa968840701ee336686e64f85bb.bin"},function(t,e,n){t.exports=n.p+"assets/sphere.dc9256c0055bdba25ac60a36d1ee74ac.bin"},,,,function(t,e,n){t.exports=n(64)},function(t,e){r.removeEventListener=function(t,e,r,u){return(n=n||(document.addEventListener?{add:i,rm:o}:{add:a,rm:s})).rm(t,e,r,u)},r.addEventListener=r,t.exports=r;var n=null;function r(t,e,r,u){return(n=n||(document.addEventListener?{add:i,rm:o}:{add:a,rm:s})).add(t,e,r,u)}function i(t,e,n,r){t.addEventListener(e,n,r)}function o(t,e,n,r){t.removeEventListener(e,n,r)}function a(t,e,n,r){if(r)throw new Error("cannot useCapture in oldIE");t.attachEvent("on"+e,n)}function s(t,e,n,r){t.detachEvent("on"+e,n)}},function(t,e,n){t.exports=i;var r=n(4).EventEmitter;function i(){r.call(this)}n(2)(i,r),i.Readable=n(9),i.Writable=n(52),i.Duplex=n(53),i.Transform=n(54),i.PassThrough=n(55),i.Stream=i,i.prototype.pipe=function(t,e){var n=this;function i(e){t.writable&&!1===t.write(e)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on("data",i),t.on("drain",o),t._isStdio||e&&!1===e.end||(n.on("end",s),n.on("close",u));var a=!1;function s(){a||(a=!0,t.end())}function u(){a||(a=!0,"function"==typeof t.destroy&&t.destroy())}function f(t){if(h(),0===r.listenerCount(this,"error"))throw t}function h(){n.removeListener("data",i),t.removeListener("drain",o),n.removeListener("end",s),n.removeListener("close",u),n.removeListener("error",f),t.removeListener("error",f),n.removeListener("end",h),n.removeListener("close",h),t.removeListener("close",h)}return n.on("error",f),t.on("error",f),n.on("end",h),n.on("close",h),t.on("close",h),t.emit("pipe",n),t}},function(t,e,n){"use strict";e.byteLength=function(t){var e=f(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){for(var e,n=f(t),r=n[0],a=n[1],s=new o(function(t,e,n){return 3*(e+n)/4-n}(0,r,a)),u=0,h=a>0?r-4:r,c=0;c<h;c+=4)e=i[t.charCodeAt(c)]<<18|i[t.charCodeAt(c+1)]<<12|i[t.charCodeAt(c+2)]<<6|i[t.charCodeAt(c+3)],s[u++]=e>>16&255,s[u++]=e>>8&255,s[u++]=255&e;2===a&&(e=i[t.charCodeAt(c)]<<2|i[t.charCodeAt(c+1)]>>4,s[u++]=255&e);1===a&&(e=i[t.charCodeAt(c)]<<10|i[t.charCodeAt(c+1)]<<4|i[t.charCodeAt(c+2)]>>2,s[u++]=e>>8&255,s[u++]=255&e);return s},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],a=0,s=n-i;a<s;a+=16383)o.push(h(t,a,a+16383>s?s:a+16383));1===i?(e=t[n-1],o.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function f(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function h(t,e,n){for(var i,o,a=[],s=e;s<n;s+=3)i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,f=u>>1,h=-7,c=n?i-1:0,l=n?-1:1,d=t[e+c];for(c+=l,o=d&(1<<-h)-1,d>>=-h,h+=s;h>0;o=256*o+t[e+c],c+=l,h-=8);for(a=o&(1<<-h)-1,o>>=-h,h+=r;h>0;a=256*a+t[e+c],c+=l,h-=8);if(0===o)o=1-f;else{if(o===u)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),o-=f}return(d?-1:1)*a*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var a,s,u,f=8*o-i-1,h=(1<<f)-1,c=h>>1,l=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=h):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),(e+=a+c>=1?l/u:l*Math.pow(2,1-c))*u>=2&&(a++,u/=2),a+c>=h?(s=0,a=h):a+c>=1?(s=(e*u-1)*Math.pow(2,i),a+=c):(s=e*Math.pow(2,c-1)*Math.pow(2,i),a=0));i>=8;t[n+d]=255&s,d+=p,s/=256,i-=8);for(a=a<<i|s,f+=i;f>0;t[n+d]=255&a,d+=p,a/=256,f-=8);t[n+d-p]|=128*m}},function(t,e){},function(t,e,n){"use strict";var r=n(8).Buffer,i=n(47);t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n},t.prototype.concat=function(t){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var e,n,i,o=r.allocUnsafe(t>>>0),a=this.head,s=0;a;)e=a.data,n=o,i=s,e.copy(n,i),s+=a.data.length,a=a.next;return o},t}(),i&&i.inspect&&i.inspect.custom&&(t.exports.prototype[i.inspect.custom]=function(){var t=i.inspect({length:this.length});return this.constructor.name+" "+t})},function(t,e){},function(t,e,n){(function(t){var r=void 0!==t&&t||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(49),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(3))},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var r,i,o,a,s,u=1,f={},h=!1,c=t.document,l=Object.getPrototypeOf&&Object.getPrototypeOf(t);l=l&&l.setTimeout?l:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick(function(){p(t)})}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?t.MessageChannel?((o=new MessageChannel).port1.onmessage=function(t){p(t.data)},r=function(t){o.port2.postMessage(t)}):c&&"onreadystatechange"in c.createElement("script")?(i=c.documentElement,r=function(t){var e=c.createElement("script");e.onreadystatechange=function(){p(t),e.onreadystatechange=null,i.removeChild(e),e=null},i.appendChild(e)}):r=function(t){setTimeout(p,0,t)}:(a="setImmediate$"+Math.random()+"$",s=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(a)&&p(+e.data.slice(a.length))},t.addEventListener?t.addEventListener("message",s,!1):t.attachEvent("onmessage",s),r=function(e){t.postMessage(a+e,"*")}),l.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var i={callback:t,args:e};return f[u]=i,r(u),u++},l.clearImmediate=d}function d(t){delete f[t]}function p(t){if(h)setTimeout(p,0,t);else{var e=f[t];if(e){h=!0;try{!function(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(n,r)}}(e)}finally{d(t),h=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(3),n(6))},function(t,e,n){(function(e){function n(t){try{if(!e.localStorage)return!1}catch(t){return!1}var n=e.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}t.exports=function(t,e){if(n("noDeprecation"))return t;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}}}).call(this,n(3))},function(t,e,n){"use strict";t.exports=o;var r=n(18),i=n(5);function o(t){if(!(this instanceof o))return new o(t);r.call(this,t)}i.inherits=n(2),i.inherits(o,r),o.prototype._transform=function(t,e,n){n(null,t)}},function(t,e,n){t.exports=n(10)},function(t,e,n){t.exports=n(1)},function(t,e,n){t.exports=n(9).Transform},function(t,e,n){t.exports=n(9).PassThrough},function(t,e,n){"use strict";var r=n(57),i=n(0),o=n(21),a=n(11),s=n(22),u=Object.prototype.toString,f=0,h=-1,c=0,l=8;function d(t){if(!(this instanceof d))return new d(t);this.options=i.assign({level:h,method:l,chunkSize:16384,windowBits:15,memLevel:8,strategy:c,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==f)throw new Error(a[n]);if(e.header&&r.deflateSetHeader(this.strm,e.header),e.dictionary){var p;if(p="string"==typeof e.dictionary?o.string2buf(e.dictionary):"[object ArrayBuffer]"===u.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(n=r.deflateSetDictionary(this.strm,p))!==f)throw new Error(a[n]);this._dict_set=!0}}function p(t,e){var n=new d(e);if(n.push(t,!0),n.err)throw n.msg||a[n.err];return n.result}d.prototype.push=function(t,e){var n,a,s=this.strm,h=this.options.chunkSize;if(this.ended)return!1;a=e===~~e?e:!0===e?4:0,"string"==typeof t?s.input=o.string2buf(t):"[object ArrayBuffer]"===u.call(t)?s.input=new Uint8Array(t):s.input=t,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new i.Buf8(h),s.next_out=0,s.avail_out=h),1!==(n=r.deflate(s,a))&&n!==f)return this.onEnd(n),this.ended=!0,!1;0!==s.avail_out&&(0!==s.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(o.buf2binstring(i.shrinkBuf(s.output,s.next_out))):this.onData(i.shrinkBuf(s.output,s.next_out)))}while((s.avail_in>0||0===s.avail_out)&&1!==n);return 4===a?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===f):2!==a||(this.onEnd(f),s.avail_out=0,!0)},d.prototype.onData=function(t){this.chunks.push(t)},d.prototype.onEnd=function(t){t===f&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Deflate=d,e.deflate=p,e.deflateRaw=function(t,e){return(e=e||{}).raw=!0,p(t,e)},e.gzip=function(t,e){return(e=e||{}).gzip=!0,p(t,e)}},function(t,e,n){"use strict";var r,i=n(0),o=n(58),a=n(19),s=n(20),u=n(11),f=0,h=1,c=3,l=4,d=5,p=0,m=1,g=-2,b=-3,v=-5,w=-1,y=1,_=2,x=3,E=4,M=0,k=2,A=8,T=9,R=15,S=8,B=286,F=30,L=19,P=2*B+1,U=15,C=3,z=258,O=z+C+1,I=32,D=42,N=69,j=73,q=91,Y=103,H=113,Z=666,W=1,V=2,X=3,$=4,K=3;function G(t,e){return t.msg=u[e],e}function Q(t){return(t<<1)-(t>4?9:0)}function J(t){for(var e=t.length;--e>=0;)t[e]=0}function tt(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(i.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function et(t,e){o._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,tt(t.strm)}function nt(t,e){t.pending_buf[t.pending++]=e}function rt(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function it(t,e){var n,r,i=t.max_chain_length,o=t.strstart,a=t.prev_length,s=t.nice_match,u=t.strstart>t.w_size-O?t.strstart-(t.w_size-O):0,f=t.window,h=t.w_mask,c=t.prev,l=t.strstart+z,d=f[o+a-1],p=f[o+a];t.prev_length>=t.good_match&&(i>>=2),s>t.lookahead&&(s=t.lookahead);do{if(f[(n=e)+a]===p&&f[n+a-1]===d&&f[n]===f[o]&&f[++n]===f[o+1]){o+=2,n++;do{}while(f[++o]===f[++n]&&f[++o]===f[++n]&&f[++o]===f[++n]&&f[++o]===f[++n]&&f[++o]===f[++n]&&f[++o]===f[++n]&&f[++o]===f[++n]&&f[++o]===f[++n]&&o<l);if(r=z-(l-o),o=l-z,r>a){if(t.match_start=e,a=r,r>=s)break;d=f[o+a-1],p=f[o+a]}}}while((e=c[e&h])>u&&0!=--i);return a<=t.lookahead?a:t.lookahead}function ot(t){var e,n,r,o,u,f,h,c,l,d,p=t.w_size;do{if(o=t.window_size-t.lookahead-t.strstart,t.strstart>=p+(p-O)){i.arraySet(t.window,t.window,p,p,0),t.match_start-=p,t.strstart-=p,t.block_start-=p,e=n=t.hash_size;do{r=t.head[--e],t.head[e]=r>=p?r-p:0}while(--n);e=n=p;do{r=t.prev[--e],t.prev[e]=r>=p?r-p:0}while(--n);o+=p}if(0===t.strm.avail_in)break;if(f=t.strm,h=t.window,c=t.strstart+t.lookahead,l=o,d=void 0,(d=f.avail_in)>l&&(d=l),n=0===d?0:(f.avail_in-=d,i.arraySet(h,f.input,f.next_in,d,c),1===f.state.wrap?f.adler=a(f.adler,h,d,c):2===f.state.wrap&&(f.adler=s(f.adler,h,d,c)),f.next_in+=d,f.total_in+=d,d),t.lookahead+=n,t.lookahead+t.insert>=C)for(u=t.strstart-t.insert,t.ins_h=t.window[u],t.ins_h=(t.ins_h<<t.hash_shift^t.window[u+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[u+C-1])&t.hash_mask,t.prev[u&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=u,u++,t.insert--,!(t.lookahead+t.insert<C)););}while(t.lookahead<O&&0!==t.strm.avail_in)}function at(t,e){for(var n,r;;){if(t.lookahead<O){if(ot(t),t.lookahead<O&&e===f)return W;if(0===t.lookahead)break}if(n=0,t.lookahead>=C&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+C-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-O&&(t.match_length=it(t,n)),t.match_length>=C)if(r=o._tr_tally(t,t.strstart-t.match_start,t.match_length-C),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=C){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+C-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else r=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(et(t,!1),0===t.strm.avail_out))return W}return t.insert=t.strstart<C-1?t.strstart:C-1,e===l?(et(t,!0),0===t.strm.avail_out?X:$):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?W:V}function st(t,e){for(var n,r,i;;){if(t.lookahead<O){if(ot(t),t.lookahead<O&&e===f)return W;if(0===t.lookahead)break}if(n=0,t.lookahead>=C&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+C-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=C-1,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-O&&(t.match_length=it(t,n),t.match_length<=5&&(t.strategy===y||t.match_length===C&&t.strstart-t.match_start>4096)&&(t.match_length=C-1)),t.prev_length>=C&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-C,r=o._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-C),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+C-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=C-1,t.strstart++,r&&(et(t,!1),0===t.strm.avail_out))return W}else if(t.match_available){if((r=o._tr_tally(t,0,t.window[t.strstart-1]))&&et(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return W}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=o._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<C-1?t.strstart:C-1,e===l?(et(t,!0),0===t.strm.avail_out?X:$):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?W:V}function ut(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i}function ft(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=A,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(2*P),this.dyn_dtree=new i.Buf16(2*(2*F+1)),this.bl_tree=new i.Buf16(2*(2*L+1)),J(this.dyn_ltree),J(this.dyn_dtree),J(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(U+1),this.heap=new i.Buf16(2*B+1),J(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(2*B+1),J(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ht(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=k,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?D:H,t.adler=2===e.wrap?0:1,e.last_flush=f,o._tr_init(e),p):G(t,g)}function ct(t){var e,n=ht(t);return n===p&&((e=t.state).window_size=2*e.w_size,J(e.head),e.max_lazy_match=r[e.level].max_lazy,e.good_match=r[e.level].good_length,e.nice_match=r[e.level].nice_length,e.max_chain_length=r[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=C-1,e.match_available=0,e.ins_h=0),n}function lt(t,e,n,r,o,a){if(!t)return g;var s=1;if(e===w&&(e=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),o<1||o>T||n!==A||r<8||r>15||e<0||e>9||a<0||a>E)return G(t,g);8===r&&(r=9);var u=new ft;return t.state=u,u.strm=t,u.wrap=s,u.gzhead=null,u.w_bits=r,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=o+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+C-1)/C),u.window=new i.Buf8(2*u.w_size),u.head=new i.Buf16(u.hash_size),u.prev=new i.Buf16(u.w_size),u.lit_bufsize=1<<o+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new i.Buf8(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=e,u.strategy=a,u.method=n,ct(t)}r=[new ut(0,0,0,0,function(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(ot(t),0===t.lookahead&&e===f)return W;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var r=t.block_start+n;if((0===t.strstart||t.strstart>=r)&&(t.lookahead=t.strstart-r,t.strstart=r,et(t,!1),0===t.strm.avail_out))return W;if(t.strstart-t.block_start>=t.w_size-O&&(et(t,!1),0===t.strm.avail_out))return W}return t.insert=0,e===l?(et(t,!0),0===t.strm.avail_out?X:$):(t.strstart>t.block_start&&(et(t,!1),t.strm.avail_out),W)}),new ut(4,4,8,4,at),new ut(4,5,16,8,at),new ut(4,6,32,32,at),new ut(4,4,16,16,st),new ut(8,16,32,32,st),new ut(8,16,128,128,st),new ut(8,32,128,256,st),new ut(32,128,258,1024,st),new ut(32,258,258,4096,st)],e.deflateInit=function(t,e){return lt(t,e,A,R,S,M)},e.deflateInit2=lt,e.deflateReset=ct,e.deflateResetKeep=ht,e.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?g:(t.state.gzhead=e,p):g},e.deflate=function(t,e){var n,i,a,u;if(!t||!t.state||e>d||e<0)return t?G(t,g):g;if(i=t.state,!t.output||!t.input&&0!==t.avail_in||i.status===Z&&e!==l)return G(t,0===t.avail_out?v:g);if(i.strm=t,n=i.last_flush,i.last_flush=e,i.status===D)if(2===i.wrap)t.adler=0,nt(i,31),nt(i,139),nt(i,8),i.gzhead?(nt(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),nt(i,255&i.gzhead.time),nt(i,i.gzhead.time>>8&255),nt(i,i.gzhead.time>>16&255),nt(i,i.gzhead.time>>24&255),nt(i,9===i.level?2:i.strategy>=_||i.level<2?4:0),nt(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(nt(i,255&i.gzhead.extra.length),nt(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(t.adler=s(t.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=N):(nt(i,0),nt(i,0),nt(i,0),nt(i,0),nt(i,0),nt(i,9===i.level?2:i.strategy>=_||i.level<2?4:0),nt(i,K),i.status=H);else{var b=A+(i.w_bits-8<<4)<<8;b|=(i.strategy>=_||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(b|=I),b+=31-b%31,i.status=H,rt(i,b),0!==i.strstart&&(rt(i,t.adler>>>16),rt(i,65535&t.adler)),t.adler=1}if(i.status===N)if(i.gzhead.extra){for(a=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),tt(t),a=i.pending,i.pending!==i.pending_buf_size));)nt(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=j)}else i.status=j;if(i.status===j)if(i.gzhead.name){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),tt(t),a=i.pending,i.pending===i.pending_buf_size)){u=1;break}u=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,nt(i,u)}while(0!==u);i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),0===u&&(i.gzindex=0,i.status=q)}else i.status=q;if(i.status===q)if(i.gzhead.comment){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),tt(t),a=i.pending,i.pending===i.pending_buf_size)){u=1;break}u=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,nt(i,u)}while(0!==u);i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),0===u&&(i.status=Y)}else i.status=Y;if(i.status===Y&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&tt(t),i.pending+2<=i.pending_buf_size&&(nt(i,255&t.adler),nt(i,t.adler>>8&255),t.adler=0,i.status=H)):i.status=H),0!==i.pending){if(tt(t),0===t.avail_out)return i.last_flush=-1,p}else if(0===t.avail_in&&Q(e)<=Q(n)&&e!==l)return G(t,v);if(i.status===Z&&0!==t.avail_in)return G(t,v);if(0!==t.avail_in||0!==i.lookahead||e!==f&&i.status!==Z){var w=i.strategy===_?function(t,e){for(var n;;){if(0===t.lookahead&&(ot(t),0===t.lookahead)){if(e===f)return W;break}if(t.match_length=0,n=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(et(t,!1),0===t.strm.avail_out))return W}return t.insert=0,e===l?(et(t,!0),0===t.strm.avail_out?X:$):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?W:V}(i,e):i.strategy===x?function(t,e){for(var n,r,i,a,s=t.window;;){if(t.lookahead<=z){if(ot(t),t.lookahead<=z&&e===f)return W;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=C&&t.strstart>0&&(r=s[i=t.strstart-1])===s[++i]&&r===s[++i]&&r===s[++i]){a=t.strstart+z;do{}while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<a);t.match_length=z-(a-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=C?(n=o._tr_tally(t,1,t.match_length-C),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(et(t,!1),0===t.strm.avail_out))return W}return t.insert=0,e===l?(et(t,!0),0===t.strm.avail_out?X:$):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?W:V}(i,e):r[i.level].func(i,e);if(w!==X&&w!==$||(i.status=Z),w===W||w===X)return 0===t.avail_out&&(i.last_flush=-1),p;if(w===V&&(e===h?o._tr_align(i):e!==d&&(o._tr_stored_block(i,0,0,!1),e===c&&(J(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),tt(t),0===t.avail_out))return i.last_flush=-1,p}return e!==l?p:i.wrap<=0?m:(2===i.wrap?(nt(i,255&t.adler),nt(i,t.adler>>8&255),nt(i,t.adler>>16&255),nt(i,t.adler>>24&255),nt(i,255&t.total_in),nt(i,t.total_in>>8&255),nt(i,t.total_in>>16&255),nt(i,t.total_in>>24&255)):(rt(i,t.adler>>>16),rt(i,65535&t.adler)),tt(t),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?p:m)},e.deflateEnd=function(t){var e;return t&&t.state?(e=t.state.status)!==D&&e!==N&&e!==j&&e!==q&&e!==Y&&e!==H&&e!==Z?G(t,g):(t.state=null,e===H?G(t,b):p):g},e.deflateSetDictionary=function(t,e){var n,r,o,s,u,f,h,c,l=e.length;if(!t||!t.state)return g;if(2===(s=(n=t.state).wrap)||1===s&&n.status!==D||n.lookahead)return g;for(1===s&&(t.adler=a(t.adler,e,l,0)),n.wrap=0,l>=n.w_size&&(0===s&&(J(n.head),n.strstart=0,n.block_start=0,n.insert=0),c=new i.Buf8(n.w_size),i.arraySet(c,e,l-n.w_size,n.w_size,0),e=c,l=n.w_size),u=t.avail_in,f=t.next_in,h=t.input,t.avail_in=l,t.next_in=0,t.input=e,ot(n);n.lookahead>=C;){r=n.strstart,o=n.lookahead-(C-1);do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+C-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--o);n.strstart=r,n.lookahead=C-1,ot(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=C-1,n.match_available=0,t.next_in=f,t.input=h,t.avail_in=u,n.wrap=s,p},e.deflateInfo="pako deflate (from Nodeca project)"},function(t,e,n){"use strict";var r=n(0),i=4,o=0,a=1,s=2;function u(t){for(var e=t.length;--e>=0;)t[e]=0}var f=0,h=1,c=2,l=29,d=256,p=d+1+l,m=30,g=19,b=2*p+1,v=15,w=16,y=7,_=256,x=16,E=17,M=18,k=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],A=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],T=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],R=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S=new Array(2*(p+2));u(S);var B=new Array(2*m);u(B);var F=new Array(512);u(F);var L=new Array(256);u(L);var P=new Array(l);u(P);var U,C,z,O=new Array(m);function I(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=t&&t.length}function D(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function N(t){return t<256?F[t]:F[256+(t>>>7)]}function j(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function q(t,e,n){t.bi_valid>w-n?(t.bi_buf|=e<<t.bi_valid&65535,j(t,t.bi_buf),t.bi_buf=e>>w-t.bi_valid,t.bi_valid+=n-w):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function Y(t,e,n){q(t,n[2*e],n[2*e+1])}function H(t,e){var n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1}function Z(t,e,n){var r,i,o=new Array(v+1),a=0;for(r=1;r<=v;r++)o[r]=a=a+n[r-1]<<1;for(i=0;i<=e;i++){var s=t[2*i+1];0!==s&&(t[2*i]=H(o[s]++,s))}}function W(t){var e;for(e=0;e<p;e++)t.dyn_ltree[2*e]=0;for(e=0;e<m;e++)t.dyn_dtree[2*e]=0;for(e=0;e<g;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*_]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function V(t){t.bi_valid>8?j(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function X(t,e,n,r){var i=2*e,o=2*n;return t[i]<t[o]||t[i]===t[o]&&r[e]<=r[n]}function $(t,e,n){for(var r=t.heap[n],i=n<<1;i<=t.heap_len&&(i<t.heap_len&&X(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!X(e,r,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=r}function K(t,e,n){var r,i,o,a,s=0;if(0!==t.last_lit)do{r=t.pending_buf[t.d_buf+2*s]<<8|t.pending_buf[t.d_buf+2*s+1],i=t.pending_buf[t.l_buf+s],s++,0===r?Y(t,i,e):(Y(t,(o=L[i])+d+1,e),0!==(a=k[o])&&q(t,i-=P[o],a),Y(t,o=N(--r),n),0!==(a=A[o])&&q(t,r-=O[o],a))}while(s<t.last_lit);Y(t,_,e)}function G(t,e){var n,r,i,o=e.dyn_tree,a=e.stat_desc.static_tree,s=e.stat_desc.has_stree,u=e.stat_desc.elems,f=-1;for(t.heap_len=0,t.heap_max=b,n=0;n<u;n++)0!==o[2*n]?(t.heap[++t.heap_len]=f=n,t.depth[n]=0):o[2*n+1]=0;for(;t.heap_len<2;)o[2*(i=t.heap[++t.heap_len]=f<2?++f:0)]=1,t.depth[i]=0,t.opt_len--,s&&(t.static_len-=a[2*i+1]);for(e.max_code=f,n=t.heap_len>>1;n>=1;n--)$(t,o,n);i=u;do{n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],$(t,o,1),r=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=r,o[2*i]=o[2*n]+o[2*r],t.depth[i]=(t.depth[n]>=t.depth[r]?t.depth[n]:t.depth[r])+1,o[2*n+1]=o[2*r+1]=i,t.heap[1]=i++,$(t,o,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var n,r,i,o,a,s,u=e.dyn_tree,f=e.max_code,h=e.stat_desc.static_tree,c=e.stat_desc.has_stree,l=e.stat_desc.extra_bits,d=e.stat_desc.extra_base,p=e.stat_desc.max_length,m=0;for(o=0;o<=v;o++)t.bl_count[o]=0;for(u[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<b;n++)(o=u[2*u[2*(r=t.heap[n])+1]+1]+1)>p&&(o=p,m++),u[2*r+1]=o,r>f||(t.bl_count[o]++,a=0,r>=d&&(a=l[r-d]),s=u[2*r],t.opt_len+=s*(o+a),c&&(t.static_len+=s*(h[2*r+1]+a)));if(0!==m){do{for(o=p-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[p]--,m-=2}while(m>0);for(o=p;0!==o;o--)for(r=t.bl_count[o];0!==r;)(i=t.heap[--n])>f||(u[2*i+1]!==o&&(t.opt_len+=(o-u[2*i+1])*u[2*i],u[2*i+1]=o),r--)}}(t,e),Z(o,f,t.bl_count)}function Q(t,e,n){var r,i,o=-1,a=e[1],s=0,u=7,f=4;for(0===a&&(u=138,f=3),e[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=e[2*(r+1)+1],++s<u&&i===a||(s<f?t.bl_tree[2*i]+=s:0!==i?(i!==o&&t.bl_tree[2*i]++,t.bl_tree[2*x]++):s<=10?t.bl_tree[2*E]++:t.bl_tree[2*M]++,s=0,o=i,0===a?(u=138,f=3):i===a?(u=6,f=3):(u=7,f=4))}function J(t,e,n){var r,i,o=-1,a=e[1],s=0,u=7,f=4;for(0===a&&(u=138,f=3),r=0;r<=n;r++)if(i=a,a=e[2*(r+1)+1],!(++s<u&&i===a)){if(s<f)do{Y(t,i,t.bl_tree)}while(0!=--s);else 0!==i?(i!==o&&(Y(t,i,t.bl_tree),s--),Y(t,x,t.bl_tree),q(t,s-3,2)):s<=10?(Y(t,E,t.bl_tree),q(t,s-3,3)):(Y(t,M,t.bl_tree),q(t,s-11,7));s=0,o=i,0===a?(u=138,f=3):i===a?(u=6,f=3):(u=7,f=4)}}u(O);var tt=!1;function et(t,e,n,i){q(t,(f<<1)+(i?1:0),3),function(t,e,n,i){V(t),i&&(j(t,n),j(t,~n)),r.arraySet(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}(t,e,n,!0)}e._tr_init=function(t){tt||(function(){var t,e,n,r,i,o=new Array(v+1);for(n=0,r=0;r<l-1;r++)for(P[r]=n,t=0;t<1<<k[r];t++)L[n++]=r;for(L[n-1]=r,i=0,r=0;r<16;r++)for(O[r]=i,t=0;t<1<<A[r];t++)F[i++]=r;for(i>>=7;r<m;r++)for(O[r]=i<<7,t=0;t<1<<A[r]-7;t++)F[256+i++]=r;for(e=0;e<=v;e++)o[e]=0;for(t=0;t<=143;)S[2*t+1]=8,t++,o[8]++;for(;t<=255;)S[2*t+1]=9,t++,o[9]++;for(;t<=279;)S[2*t+1]=7,t++,o[7]++;for(;t<=287;)S[2*t+1]=8,t++,o[8]++;for(Z(S,p+1,o),t=0;t<m;t++)B[2*t+1]=5,B[2*t]=H(t,5);U=new I(S,k,d+1,p,v),C=new I(B,A,0,m,v),z=new I(new Array(0),T,0,g,y)}(),tt=!0),t.l_desc=new D(t.dyn_ltree,U),t.d_desc=new D(t.dyn_dtree,C),t.bl_desc=new D(t.bl_tree,z),t.bi_buf=0,t.bi_valid=0,W(t)},e._tr_stored_block=et,e._tr_flush_block=function(t,e,n,r){var u,f,l=0;t.level>0?(t.strm.data_type===s&&(t.strm.data_type=function(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return o;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return a;for(e=32;e<d;e++)if(0!==t.dyn_ltree[2*e])return a;return o}(t)),G(t,t.l_desc),G(t,t.d_desc),l=function(t){var e;for(Q(t,t.dyn_ltree,t.l_desc.max_code),Q(t,t.dyn_dtree,t.d_desc.max_code),G(t,t.bl_desc),e=g-1;e>=3&&0===t.bl_tree[2*R[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),u=t.opt_len+3+7>>>3,(f=t.static_len+3+7>>>3)<=u&&(u=f)):u=f=n+5,n+4<=u&&-1!==e?et(t,e,n,r):t.strategy===i||f===u?(q(t,(h<<1)+(r?1:0),3),K(t,S,B)):(q(t,(c<<1)+(r?1:0),3),function(t,e,n,r){var i;for(q(t,e-257,5),q(t,n-1,5),q(t,r-4,4),i=0;i<r;i++)q(t,t.bl_tree[2*R[i]+1],3);J(t,t.dyn_ltree,e-1),J(t,t.dyn_dtree,n-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,l+1),K(t,t.dyn_ltree,t.dyn_dtree)),W(t),r&&V(t)},e._tr_tally=function(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(L[n]+d+1)]++,t.dyn_dtree[2*N(e)]++),t.last_lit===t.lit_bufsize-1},e._tr_align=function(t){q(t,h<<1,3),Y(t,_,S),function(t){16===t.bi_valid?(j(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},function(t,e,n){"use strict";var r=n(60),i=n(0),o=n(21),a=n(23),s=n(11),u=n(22),f=n(63),h=Object.prototype.toString;function c(t){if(!(this instanceof c))return new c(t);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,e.windowBits);if(n!==a.Z_OK)throw new Error(s[n]);if(this.header=new f,r.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=o.string2buf(e.dictionary):"[object ArrayBuffer]"===h.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=r.inflateSetDictionary(this.strm,e.dictionary))!==a.Z_OK))throw new Error(s[n])}function l(t,e){var n=new c(e);if(n.push(t,!0),n.err)throw n.msg||s[n.err];return n.result}c.prototype.push=function(t,e){var n,s,u,f,c,l=this.strm,d=this.options.chunkSize,p=this.options.dictionary,m=!1;if(this.ended)return!1;s=e===~~e?e:!0===e?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof t?l.input=o.binstring2buf(t):"[object ArrayBuffer]"===h.call(t)?l.input=new Uint8Array(t):l.input=t,l.next_in=0,l.avail_in=l.input.length;do{if(0===l.avail_out&&(l.output=new i.Buf8(d),l.next_out=0,l.avail_out=d),(n=r.inflate(l,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&p&&(n=r.inflateSetDictionary(this.strm,p)),n===a.Z_BUF_ERROR&&!0===m&&(n=a.Z_OK,m=!1),n!==a.Z_STREAM_END&&n!==a.Z_OK)return this.onEnd(n),this.ended=!0,!1;l.next_out&&(0!==l.avail_out&&n!==a.Z_STREAM_END&&(0!==l.avail_in||s!==a.Z_FINISH&&s!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(u=o.utf8border(l.output,l.next_out),f=l.next_out-u,c=o.buf2string(l.output,u),l.next_out=f,l.avail_out=d-f,f&&i.arraySet(l.output,l.output,u,f,0),this.onData(c)):this.onData(i.shrinkBuf(l.output,l.next_out)))),0===l.avail_in&&0===l.avail_out&&(m=!0)}while((l.avail_in>0||0===l.avail_out)&&n!==a.Z_STREAM_END);return n===a.Z_STREAM_END&&(s=a.Z_FINISH),s===a.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===a.Z_OK):s!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),l.avail_out=0,!0)},c.prototype.onData=function(t){this.chunks.push(t)},c.prototype.onEnd=function(t){t===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Inflate=c,e.inflate=l,e.inflateRaw=function(t,e){return(e=e||{}).raw=!0,l(t,e)},e.ungzip=l},function(t,e,n){"use strict";var r=n(0),i=n(19),o=n(20),a=n(61),s=n(62),u=0,f=1,h=2,c=4,l=5,d=6,p=0,m=1,g=2,b=-2,v=-3,w=-4,y=-5,_=8,x=1,E=2,M=3,k=4,A=5,T=6,R=7,S=8,B=9,F=10,L=11,P=12,U=13,C=14,z=15,O=16,I=17,D=18,N=19,j=20,q=21,Y=22,H=23,Z=24,W=25,V=26,X=27,$=28,K=29,G=30,Q=31,J=32,tt=852,et=592,nt=15;function rt(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function it(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function ot(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=x,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new r.Buf32(tt),e.distcode=e.distdyn=new r.Buf32(et),e.sane=1,e.back=-1,p):b}function at(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,ot(t)):b}function st(t,e){var n,r;return t&&t.state?(r=t.state,e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?b:(null!==r.window&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,at(t))):b}function ut(t,e){var n,r;return t?(r=new it,t.state=r,r.window=null,(n=st(t,e))!==p&&(t.state=null),n):b}var ft,ht,ct=!0;function lt(t){if(ct){var e;for(ft=new r.Buf32(512),ht=new r.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(s(f,t.lens,0,288,ft,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;s(h,t.lens,0,32,ht,0,t.work,{bits:5}),ct=!1}t.lencode=ft,t.lenbits=9,t.distcode=ht,t.distbits=5}function dt(t,e,n,i){var o,a=t.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new r.Buf8(a.wsize)),i>=a.wsize?(r.arraySet(a.window,e,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((o=a.wsize-a.wnext)>i&&(o=i),r.arraySet(a.window,e,n-i,o,a.wnext),(i-=o)?(r.arraySet(a.window,e,n-i,i,0),a.wnext=i,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0}e.inflateReset=at,e.inflateReset2=st,e.inflateResetKeep=ot,e.inflateInit=function(t){return ut(t,nt)},e.inflateInit2=ut,e.inflate=function(t,e){var n,tt,et,nt,it,ot,at,st,ut,ft,ht,ct,pt,mt,gt,bt,vt,wt,yt,_t,xt,Et,Mt,kt,At=0,Tt=new r.Buf8(4),Rt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return b;(n=t.state).mode===P&&(n.mode=U),it=t.next_out,et=t.output,at=t.avail_out,nt=t.next_in,tt=t.input,ot=t.avail_in,st=n.hold,ut=n.bits,ft=ot,ht=at,Et=p;t:for(;;)switch(n.mode){case x:if(0===n.wrap){n.mode=U;break}for(;ut<16;){if(0===ot)break t;ot--,st+=tt[nt++]<<ut,ut+=8}if(2&n.wrap&&35615===st){n.check=0,Tt[0]=255&st,Tt[1]=st>>>8&255,n.check=o(n.check,Tt,2,0),st=0,ut=0,n.mode=E;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&st)<<8)+(st>>8))%31){t.msg="incorrect header check",n.mode=G;break}if((15&st)!==_){t.msg="unknown compression method",n.mode=G;break}if(ut-=4,xt=8+(15&(st>>>=4)),0===n.wbits)n.wbits=xt;else if(xt>n.wbits){t.msg="invalid window size",n.mode=G;break}n.dmax=1<<xt,t.adler=n.check=1,n.mode=512&st?F:P,st=0,ut=0;break;case E:for(;ut<16;){if(0===ot)break t;ot--,st+=tt[nt++]<<ut,ut+=8}if(n.flags=st,(255&n.flags)!==_){t.msg="unknown compression method",n.mode=G;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=G;break}n.head&&(n.head.text=st>>8&1),512&n.flags&&(Tt[0]=255&st,Tt[1]=st>>>8&255,n.check=o(n.check,Tt,2,0)),st=0,ut=0,n.mode=M;case M:for(;ut<32;){if(0===ot)break t;ot--,st+=tt[nt++]<<ut,ut+=8}n.head&&(n.head.time=st),512&n.flags&&(Tt[0]=255&st,Tt[1]=st>>>8&255,Tt[2]=st>>>16&255,Tt[3]=st>>>24&255,n.check=o(n.check,Tt,4,0)),st=0,ut=0,n.mode=k;case k:for(;ut<16;){if(0===ot)break t;ot--,st+=tt[nt++]<<ut,ut+=8}n.head&&(n.head.xflags=255&st,n.head.os=st>>8),512&n.flags&&(Tt[0]=255&st,Tt[1]=st>>>8&255,n.check=o(n.check,Tt,2,0)),st=0,ut=0,n.mode=A;case A:if(1024&n.flags){for(;ut<16;){if(0===ot)break t;ot--,st+=tt[nt++]<<ut,ut+=8}n.length=st,n.head&&(n.head.extra_len=st),512&n.flags&&(Tt[0]=255&st,Tt[1]=st>>>8&255,n.check=o(n.check,Tt,2,0)),st=0,ut=0}else n.head&&(n.head.extra=null);n.mode=T;case T:if(1024&n.flags&&((ct=n.length)>ot&&(ct=ot),ct&&(n.head&&(xt=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,tt,nt,ct,xt)),512&n.flags&&(n.check=o(n.check,tt,ct,nt)),ot-=ct,nt+=ct,n.length-=ct),n.length))break t;n.length=0,n.mode=R;case R:if(2048&n.flags){if(0===ot)break t;ct=0;do{xt=tt[nt+ct++],n.head&&xt&&n.length<65536&&(n.head.name+=String.fromCharCode(xt))}while(xt&&ct<ot);if(512&n.flags&&(n.check=o(n.check,tt,ct,nt)),ot-=ct,nt+=ct,xt)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=S;case S:if(4096&n.flags){if(0===ot)break t;ct=0;do{xt=tt[nt+ct++],n.head&&xt&&n.length<65536&&(n.head.comment+=String.fromCharCode(xt))}while(xt&&ct<ot);if(512&n.flags&&(n.check=o(n.check,tt,ct,nt)),ot-=ct,nt+=ct,xt)break t}else n.head&&(n.head.comment=null);n.mode=B;case B:if(512&n.flags){for(;ut<16;){if(0===ot)break t;ot--,st+=tt[nt++]<<ut,ut+=8}if(st!==(65535&n.check)){t.msg="header crc mismatch",n.mode=G;break}st=0,ut=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=P;break;case F:for(;ut<32;){if(0===ot)break t;ot--,st+=tt[nt++]<<ut,ut+=8}t.adler=n.check=rt(st),st=0,ut=0,n.mode=L;case L:if(0===n.havedict)return t.next_out=it,t.avail_out=at,t.next_in=nt,t.avail_in=ot,n.hold=st,n.bits=ut,g;t.adler=n.check=1,n.mode=P;case P:if(e===l||e===d)break t;case U:if(n.last){st>>>=7&ut,ut-=7&ut,n.mode=X;break}for(;ut<3;){if(0===ot)break t;ot--,st+=tt[nt++]<<ut,ut+=8}switch(n.last=1&st,ut-=1,3&(st>>>=1)){case 0:n.mode=C;break;case 1:if(lt(n),n.mode=j,e===d){st>>>=2,ut-=2;break t}break;case 2:n.mode=I;break;case 3:t.msg="invalid block type",n.mode=G}st>>>=2,ut-=2;break;case C:for(st>>>=7&ut,ut-=7&ut;ut<32;){if(0===ot)break t;ot--,st+=tt[nt++]<<ut,ut+=8}if((65535&st)!=(st>>>16^65535)){t.msg="invalid stored block lengths",n.mode=G;break}if(n.length=65535&st,st=0,ut=0,n.mode=z,e===d)break t;case z:n.mode=O;case O:if(ct=n.length){if(ct>ot&&(ct=ot),ct>at&&(ct=at),0===ct)break t;r.arraySet(et,tt,nt,ct,it),ot-=ct,nt+=ct,at-=ct,it+=ct,n.length-=ct;break}n.mode=P;break;case I:for(;ut<14;){if(0===ot)break t;ot--,st+=tt[nt++]<<ut,ut+=8}if(n.nlen=257+(31&st),st>>>=5,ut-=5,n.ndist=1+(31&st),st>>>=5,ut-=5,n.ncode=4+(15&st),st>>>=4,ut-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=G;break}n.have=0,n.mode=D;case D:for(;n.have<n.ncode;){for(;ut<3;){if(0===ot)break t;ot--,st+=tt[nt++]<<ut,ut+=8}n.lens[Rt[n.have++]]=7&st,st>>>=3,ut-=3}for(;n.have<19;)n.lens[Rt[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,Mt={bits:n.lenbits},Et=s(u,n.lens,0,19,n.lencode,0,n.work,Mt),n.lenbits=Mt.bits,Et){t.msg="invalid code lengths set",n.mode=G;break}n.have=0,n.mode=N;case N:for(;n.have<n.nlen+n.ndist;){for(;bt=(At=n.lencode[st&(1<<n.lenbits)-1])>>>16&255,vt=65535&At,!((gt=At>>>24)<=ut);){if(0===ot)break t;ot--,st+=tt[nt++]<<ut,ut+=8}if(vt<16)st>>>=gt,ut-=gt,n.lens[n.have++]=vt;else{if(16===vt){for(kt=gt+2;ut<kt;){if(0===ot)break t;ot--,st+=tt[nt++]<<ut,ut+=8}if(st>>>=gt,ut-=gt,0===n.have){t.msg="invalid bit length repeat",n.mode=G;break}xt=n.lens[n.have-1],ct=3+(3&st),st>>>=2,ut-=2}else if(17===vt){for(kt=gt+3;ut<kt;){if(0===ot)break t;ot--,st+=tt[nt++]<<ut,ut+=8}ut-=gt,xt=0,ct=3+(7&(st>>>=gt)),st>>>=3,ut-=3}else{for(kt=gt+7;ut<kt;){if(0===ot)break t;ot--,st+=tt[nt++]<<ut,ut+=8}ut-=gt,xt=0,ct=11+(127&(st>>>=gt)),st>>>=7,ut-=7}if(n.have+ct>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=G;break}for(;ct--;)n.lens[n.have++]=xt}}if(n.mode===G)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=G;break}if(n.lenbits=9,Mt={bits:n.lenbits},Et=s(f,n.lens,0,n.nlen,n.lencode,0,n.work,Mt),n.lenbits=Mt.bits,Et){t.msg="invalid literal/lengths set",n.mode=G;break}if(n.distbits=6,n.distcode=n.distdyn,Mt={bits:n.distbits},Et=s(h,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,Mt),n.distbits=Mt.bits,Et){t.msg="invalid distances set",n.mode=G;break}if(n.mode=j,e===d)break t;case j:n.mode=q;case q:if(ot>=6&&at>=258){t.next_out=it,t.avail_out=at,t.next_in=nt,t.avail_in=ot,n.hold=st,n.bits=ut,a(t,ht),it=t.next_out,et=t.output,at=t.avail_out,nt=t.next_in,tt=t.input,ot=t.avail_in,st=n.hold,ut=n.bits,n.mode===P&&(n.back=-1);break}for(n.back=0;bt=(At=n.lencode[st&(1<<n.lenbits)-1])>>>16&255,vt=65535&At,!((gt=At>>>24)<=ut);){if(0===ot)break t;ot--,st+=tt[nt++]<<ut,ut+=8}if(bt&&0==(240&bt)){for(wt=gt,yt=bt,_t=vt;bt=(At=n.lencode[_t+((st&(1<<wt+yt)-1)>>wt)])>>>16&255,vt=65535&At,!(wt+(gt=At>>>24)<=ut);){if(0===ot)break t;ot--,st+=tt[nt++]<<ut,ut+=8}st>>>=wt,ut-=wt,n.back+=wt}if(st>>>=gt,ut-=gt,n.back+=gt,n.length=vt,0===bt){n.mode=V;break}if(32&bt){n.back=-1,n.mode=P;break}if(64&bt){t.msg="invalid literal/length code",n.mode=G;break}n.extra=15&bt,n.mode=Y;case Y:if(n.extra){for(kt=n.extra;ut<kt;){if(0===ot)break t;ot--,st+=tt[nt++]<<ut,ut+=8}n.length+=st&(1<<n.extra)-1,st>>>=n.extra,ut-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=H;case H:for(;bt=(At=n.distcode[st&(1<<n.distbits)-1])>>>16&255,vt=65535&At,!((gt=At>>>24)<=ut);){if(0===ot)break t;ot--,st+=tt[nt++]<<ut,ut+=8}if(0==(240&bt)){for(wt=gt,yt=bt,_t=vt;bt=(At=n.distcode[_t+((st&(1<<wt+yt)-1)>>wt)])>>>16&255,vt=65535&At,!(wt+(gt=At>>>24)<=ut);){if(0===ot)break t;ot--,st+=tt[nt++]<<ut,ut+=8}st>>>=wt,ut-=wt,n.back+=wt}if(st>>>=gt,ut-=gt,n.back+=gt,64&bt){t.msg="invalid distance code",n.mode=G;break}n.offset=vt,n.extra=15&bt,n.mode=Z;case Z:if(n.extra){for(kt=n.extra;ut<kt;){if(0===ot)break t;ot--,st+=tt[nt++]<<ut,ut+=8}n.offset+=st&(1<<n.extra)-1,st>>>=n.extra,ut-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=G;break}n.mode=W;case W:if(0===at)break t;if(ct=ht-at,n.offset>ct){if((ct=n.offset-ct)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=G;break}ct>n.wnext?(ct-=n.wnext,pt=n.wsize-ct):pt=n.wnext-ct,ct>n.length&&(ct=n.length),mt=n.window}else mt=et,pt=it-n.offset,ct=n.length;ct>at&&(ct=at),at-=ct,n.length-=ct;do{et[it++]=mt[pt++]}while(--ct);0===n.length&&(n.mode=q);break;case V:if(0===at)break t;et[it++]=n.length,at--,n.mode=q;break;case X:if(n.wrap){for(;ut<32;){if(0===ot)break t;ot--,st|=tt[nt++]<<ut,ut+=8}if(ht-=at,t.total_out+=ht,n.total+=ht,ht&&(t.adler=n.check=n.flags?o(n.check,et,ht,it-ht):i(n.check,et,ht,it-ht)),ht=at,(n.flags?st:rt(st))!==n.check){t.msg="incorrect data check",n.mode=G;break}st=0,ut=0}n.mode=$;case $:if(n.wrap&&n.flags){for(;ut<32;){if(0===ot)break t;ot--,st+=tt[nt++]<<ut,ut+=8}if(st!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=G;break}st=0,ut=0}n.mode=K;case K:Et=m;break t;case G:Et=v;break t;case Q:return w;case J:default:return b}return t.next_out=it,t.avail_out=at,t.next_in=nt,t.avail_in=ot,n.hold=st,n.bits=ut,(n.wsize||ht!==t.avail_out&&n.mode<G&&(n.mode<X||e!==c))&&dt(t,t.output,t.next_out,ht-t.avail_out)?(n.mode=Q,w):(ft-=t.avail_in,ht-=t.avail_out,t.total_in+=ft,t.total_out+=ht,n.total+=ht,n.wrap&&ht&&(t.adler=n.check=n.flags?o(n.check,et,ht,t.next_out-ht):i(n.check,et,ht,t.next_out-ht)),t.data_type=n.bits+(n.last?64:0)+(n.mode===P?128:0)+(n.mode===j||n.mode===z?256:0),(0===ft&&0===ht||e===c)&&Et===p&&(Et=y),Et)},e.inflateEnd=function(t){if(!t||!t.state)return b;var e=t.state;return e.window&&(e.window=null),t.state=null,p},e.inflateGetHeader=function(t,e){var n;return t&&t.state?0==(2&(n=t.state).wrap)?b:(n.head=e,e.done=!1,p):b},e.inflateSetDictionary=function(t,e){var n,r=e.length;return t&&t.state?0!==(n=t.state).wrap&&n.mode!==L?b:n.mode===L&&i(1,e,r,0)!==n.check?v:dt(t,e,r,r)?(n.mode=Q,w):(n.havedict=1,p):b},e.inflateInfo="pako inflate (from Nodeca project)"},function(t,e,n){"use strict";t.exports=function(t,e){var n,r,i,o,a,s,u,f,h,c,l,d,p,m,g,b,v,w,y,_,x,E,M,k,A;n=t.state,r=t.next_in,k=t.input,i=r+(t.avail_in-5),o=t.next_out,A=t.output,a=o-(e-t.avail_out),s=o+(t.avail_out-257),u=n.dmax,f=n.wsize,h=n.whave,c=n.wnext,l=n.window,d=n.hold,p=n.bits,m=n.lencode,g=n.distcode,b=(1<<n.lenbits)-1,v=(1<<n.distbits)-1;t:do{p<15&&(d+=k[r++]<<p,p+=8,d+=k[r++]<<p,p+=8),w=m[d&b];e:for(;;){if(d>>>=y=w>>>24,p-=y,0===(y=w>>>16&255))A[o++]=65535&w;else{if(!(16&y)){if(0==(64&y)){w=m[(65535&w)+(d&(1<<y)-1)];continue e}if(32&y){n.mode=12;break t}t.msg="invalid literal/length code",n.mode=30;break t}_=65535&w,(y&=15)&&(p<y&&(d+=k[r++]<<p,p+=8),_+=d&(1<<y)-1,d>>>=y,p-=y),p<15&&(d+=k[r++]<<p,p+=8,d+=k[r++]<<p,p+=8),w=g[d&v];n:for(;;){if(d>>>=y=w>>>24,p-=y,!(16&(y=w>>>16&255))){if(0==(64&y)){w=g[(65535&w)+(d&(1<<y)-1)];continue n}t.msg="invalid distance code",n.mode=30;break t}if(x=65535&w,p<(y&=15)&&(d+=k[r++]<<p,(p+=8)<y&&(d+=k[r++]<<p,p+=8)),(x+=d&(1<<y)-1)>u){t.msg="invalid distance too far back",n.mode=30;break t}if(d>>>=y,p-=y,x>(y=o-a)){if((y=x-y)>h&&n.sane){t.msg="invalid distance too far back",n.mode=30;break t}if(E=0,M=l,0===c){if(E+=f-y,y<_){_-=y;do{A[o++]=l[E++]}while(--y);E=o-x,M=A}}else if(c<y){if(E+=f+c-y,(y-=c)<_){_-=y;do{A[o++]=l[E++]}while(--y);if(E=0,c<_){_-=y=c;do{A[o++]=l[E++]}while(--y);E=o-x,M=A}}}else if(E+=c-y,y<_){_-=y;do{A[o++]=l[E++]}while(--y);E=o-x,M=A}for(;_>2;)A[o++]=M[E++],A[o++]=M[E++],A[o++]=M[E++],_-=3;_&&(A[o++]=M[E++],_>1&&(A[o++]=M[E++]))}else{E=o-x;do{A[o++]=A[E++],A[o++]=A[E++],A[o++]=A[E++],_-=3}while(_>2);_&&(A[o++]=A[E++],_>1&&(A[o++]=A[E++]))}break}}break}}while(r<i&&o<s);r-=_=p>>3,d&=(1<<(p-=_<<3))-1,t.next_in=r,t.next_out=o,t.avail_in=r<i?i-r+5:5-(r-i),t.avail_out=o<s?s-o+257:257-(o-s),n.hold=d,n.bits=p}},function(t,e,n){"use strict";var r=n(0),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(t,e,n,u,f,h,c,l){var d,p,m,g,b,v,w,y,_,x=l.bits,E=0,M=0,k=0,A=0,T=0,R=0,S=0,B=0,F=0,L=0,P=null,U=0,C=new r.Buf16(16),z=new r.Buf16(16),O=null,I=0;for(E=0;E<=15;E++)C[E]=0;for(M=0;M<u;M++)C[e[n+M]]++;for(T=x,A=15;A>=1&&0===C[A];A--);if(T>A&&(T=A),0===A)return f[h++]=20971520,f[h++]=20971520,l.bits=1,0;for(k=1;k<A&&0===C[k];k++);for(T<k&&(T=k),B=1,E=1;E<=15;E++)if(B<<=1,(B-=C[E])<0)return-1;if(B>0&&(0===t||1!==A))return-1;for(z[1]=0,E=1;E<15;E++)z[E+1]=z[E]+C[E];for(M=0;M<u;M++)0!==e[n+M]&&(c[z[e[n+M]]++]=M);if(0===t?(P=O=c,v=19):1===t?(P=i,U-=257,O=o,I-=257,v=256):(P=a,O=s,v=-1),L=0,M=0,E=k,b=h,R=T,S=0,m=-1,g=(F=1<<T)-1,1===t&&F>852||2===t&&F>592)return 1;for(;;){w=E-S,c[M]<v?(y=0,_=c[M]):c[M]>v?(y=O[I+c[M]],_=P[U+c[M]]):(y=96,_=0),d=1<<E-S,k=p=1<<R;do{f[b+(L>>S)+(p-=d)]=w<<24|y<<16|_|0}while(0!==p);for(d=1<<E-1;L&d;)d>>=1;if(0!==d?(L&=d-1,L+=d):L=0,M++,0==--C[E]){if(E===A)break;E=e[n+c[M]]}if(E>T&&(L&g)!==m){for(0===S&&(S=T),b+=k,B=1<<(R=E-S);R+S<A&&!((B-=C[R+S])<=0);)R++,B<<=1;if(F+=1<<R,1===t&&F>852||2===t&&F>592)return 1;f[m=L&g]=T<<24|R<<16|b-h|0}}return 0!==L&&(f[b+L]=E-S<<24|64<<16|0),l.bits=T,0}},function(t,e,n){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"EPSILON",function(){return u}),n.d(r,"ARRAY_TYPE",function(){return f}),n.d(r,"RANDOM",function(){return h}),n.d(r,"setMatrixArrayType",function(){return c}),n.d(r,"toRadian",function(){return d}),n.d(r,"equals",function(){return p});var i={};n.r(i),n.d(i,"create",function(){return m}),n.d(i,"clone",function(){return g}),n.d(i,"copy",function(){return b}),n.d(i,"fromValues",function(){return v}),n.d(i,"set",function(){return w}),n.d(i,"identity",function(){return y}),n.d(i,"transpose",function(){return _}),n.d(i,"invert",function(){return x}),n.d(i,"adjoint",function(){return E}),n.d(i,"determinant",function(){return M}),n.d(i,"multiply",function(){return k}),n.d(i,"translate",function(){return A}),n.d(i,"scale",function(){return T}),n.d(i,"rotate",function(){return R}),n.d(i,"rotateX",function(){return S}),n.d(i,"rotateY",function(){return B}),n.d(i,"rotateZ",function(){return F}),n.d(i,"fromTranslation",function(){return L}),n.d(i,"fromScaling",function(){return P}),n.d(i,"fromRotation",function(){return U}),n.d(i,"fromXRotation",function(){return C}),n.d(i,"fromYRotation",function(){return z}),n.d(i,"fromZRotation",function(){return O}),n.d(i,"fromRotationTranslation",function(){return I}),n.d(i,"fromQuat2",function(){return D}),n.d(i,"getTranslation",function(){return N}),n.d(i,"getScaling",function(){return j}),n.d(i,"getRotation",function(){return q}),n.d(i,"fromRotationTranslationScale",function(){return Y}),n.d(i,"fromRotationTranslationScaleOrigin",function(){return H}),n.d(i,"fromQuat",function(){return Z}),n.d(i,"frustum",function(){return W}),n.d(i,"perspective",function(){return V}),n.d(i,"perspectiveFromFieldOfView",function(){return X}),n.d(i,"ortho",function(){return $}),n.d(i,"lookAt",function(){return K}),n.d(i,"targetTo",function(){return G}),n.d(i,"str",function(){return Q}),n.d(i,"frob",function(){return J}),n.d(i,"add",function(){return tt}),n.d(i,"subtract",function(){return et}),n.d(i,"multiplyScalar",function(){return nt}),n.d(i,"multiplyScalarAndAdd",function(){return rt}),n.d(i,"exactEquals",function(){return it}),n.d(i,"equals",function(){return ot}),n.d(i,"mul",function(){return at}),n.d(i,"sub",function(){return st});var o={};n.r(o),n.d(o,"create",function(){return ut}),n.d(o,"clone",function(){return ft}),n.d(o,"length",function(){return ht}),n.d(o,"fromValues",function(){return ct}),n.d(o,"copy",function(){return lt}),n.d(o,"set",function(){return dt}),n.d(o,"add",function(){return pt}),n.d(o,"subtract",function(){return mt}),n.d(o,"multiply",function(){return gt}),n.d(o,"divide",function(){return bt}),n.d(o,"ceil",function(){return vt}),n.d(o,"floor",function(){return wt}),n.d(o,"min",function(){return yt}),n.d(o,"max",function(){return _t}),n.d(o,"round",function(){return xt}),n.d(o,"scale",function(){return Et}),n.d(o,"scaleAndAdd",function(){return Mt}),n.d(o,"distance",function(){return kt}),n.d(o,"squaredDistance",function(){return At}),n.d(o,"squaredLength",function(){return Tt}),n.d(o,"negate",function(){return Rt}),n.d(o,"inverse",function(){return St}),n.d(o,"normalize",function(){return Bt}),n.d(o,"dot",function(){return Ft}),n.d(o,"cross",function(){return Lt}),n.d(o,"lerp",function(){return Pt}),n.d(o,"hermite",function(){return Ut}),n.d(o,"bezier",function(){return Ct}),n.d(o,"random",function(){return zt}),n.d(o,"transformMat4",function(){return Ot}),n.d(o,"transformMat3",function(){return It}),n.d(o,"transformQuat",function(){return Dt}),n.d(o,"rotateX",function(){return Nt}),n.d(o,"rotateY",function(){return jt}),n.d(o,"rotateZ",function(){return qt}),n.d(o,"angle",function(){return Yt}),n.d(o,"zero",function(){return Ht}),n.d(o,"str",function(){return Zt}),n.d(o,"exactEquals",function(){return Wt}),n.d(o,"equals",function(){return Vt}),n.d(o,"sub",function(){return $t}),n.d(o,"mul",function(){return Kt}),n.d(o,"div",function(){return Gt}),n.d(o,"dist",function(){return Qt}),n.d(o,"sqrDist",function(){return Jt}),n.d(o,"len",function(){return te}),n.d(o,"sqrLen",function(){return ee}),n.d(o,"forEach",function(){return ne});var a={};n.r(a),n.d(a,"create",function(){return oe}),n.d(a,"identity",function(){return ae}),n.d(a,"setAxisAngle",function(){return se}),n.d(a,"getAxisAngle",function(){return ue}),n.d(a,"multiply",function(){return fe}),n.d(a,"rotateX",function(){return he}),n.d(a,"rotateY",function(){return ce}),n.d(a,"rotateZ",function(){return le}),n.d(a,"calculateW",function(){return de}),n.d(a,"slerp",function(){return pe}),n.d(a,"random",function(){return me}),n.d(a,"invert",function(){return ge}),n.d(a,"conjugate",function(){return be}),n.d(a,"fromMat3",function(){return ve}),n.d(a,"fromEuler",function(){return we}),n.d(a,"str",function(){return ye}),n.d(a,"clone",function(){return Re}),n.d(a,"fromValues",function(){return Se}),n.d(a,"copy",function(){return Be}),n.d(a,"set",function(){return Fe}),n.d(a,"add",function(){return Le}),n.d(a,"mul",function(){return Pe}),n.d(a,"scale",function(){return Ue}),n.d(a,"dot",function(){return Ce}),n.d(a,"lerp",function(){return ze}),n.d(a,"length",function(){return Oe}),n.d(a,"len",function(){return Ie}),n.d(a,"squaredLength",function(){return De}),n.d(a,"sqrLen",function(){return Ne}),n.d(a,"normalize",function(){return je}),n.d(a,"exactEquals",function(){return qe}),n.d(a,"equals",function(){return Ye}),n.d(a,"rotationTo",function(){return He}),n.d(a,"sqlerp",function(){return Ze}),n.d(a,"setAxes",function(){return We});var s={};n.r(s),n.d(s,"create",function(){return Ve}),n.d(s,"clone",function(){return Xe}),n.d(s,"fromValues",function(){return $e}),n.d(s,"copy",function(){return Ke}),n.d(s,"set",function(){return Ge}),n.d(s,"add",function(){return Qe}),n.d(s,"subtract",function(){return Je}),n.d(s,"multiply",function(){return tn}),n.d(s,"divide",function(){return en}),n.d(s,"ceil",function(){return nn}),n.d(s,"floor",function(){return rn}),n.d(s,"min",function(){return on}),n.d(s,"max",function(){return an}),n.d(s,"round",function(){return sn}),n.d(s,"scale",function(){return un}),n.d(s,"scaleAndAdd",function(){return fn}),n.d(s,"distance",function(){return hn}),n.d(s,"squaredDistance",function(){return cn}),n.d(s,"length",function(){return ln}),n.d(s,"squaredLength",function(){return dn}),n.d(s,"negate",function(){return pn}),n.d(s,"inverse",function(){return mn}),n.d(s,"normalize",function(){return gn}),n.d(s,"dot",function(){return bn}),n.d(s,"cross",function(){return vn}),n.d(s,"lerp",function(){return wn}),n.d(s,"random",function(){return yn}),n.d(s,"transformMat2",function(){return _n}),n.d(s,"transformMat2d",function(){return xn}),n.d(s,"transformMat3",function(){return En}),n.d(s,"transformMat4",function(){return Mn}),n.d(s,"rotate",function(){return kn}),n.d(s,"angle",function(){return An}),n.d(s,"zero",function(){return Tn}),n.d(s,"str",function(){return Rn}),n.d(s,"exactEquals",function(){return Sn}),n.d(s,"equals",function(){return Bn}),n.d(s,"len",function(){return Fn}),n.d(s,"sub",function(){return Ln}),n.d(s,"mul",function(){return Pn}),n.d(s,"div",function(){return Un}),n.d(s,"dist",function(){return Cn}),n.d(s,"sqrDist",function(){return zn}),n.d(s,"sqrLen",function(){return On}),n.d(s,"forEach",function(){return In});var u=1e-6,f="undefined"!=typeof Float32Array?Float32Array:Array,h=Math.random;function c(t){f=t}var l=Math.PI/180;function d(t){return t*l}function p(t,e){return Math.abs(t-e)<=u*Math.max(1,Math.abs(t),Math.abs(e))}function m(){var t=new f(16);return f!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function g(t){var e=new f(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function b(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function v(t,e,n,r,i,o,a,s,u,h,c,l,d,p,m,g){var b=new f(16);return b[0]=t,b[1]=e,b[2]=n,b[3]=r,b[4]=i,b[5]=o,b[6]=a,b[7]=s,b[8]=u,b[9]=h,b[10]=c,b[11]=l,b[12]=d,b[13]=p,b[14]=m,b[15]=g,b}function w(t,e,n,r,i,o,a,s,u,f,h,c,l,d,p,m,g){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=s,t[7]=u,t[8]=f,t[9]=h,t[10]=c,t[11]=l,t[12]=d,t[13]=p,t[14]=m,t[15]=g,t}function y(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function _(t,e){if(t===e){var n=e[1],r=e[2],i=e[3],o=e[6],a=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=o,t[11]=e[14],t[12]=i,t[13]=a,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function x(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],f=e[7],h=e[8],c=e[9],l=e[10],d=e[11],p=e[12],m=e[13],g=e[14],b=e[15],v=n*s-r*a,w=n*u-i*a,y=n*f-o*a,_=r*u-i*s,x=r*f-o*s,E=i*f-o*u,M=h*m-c*p,k=h*g-l*p,A=h*b-d*p,T=c*g-l*m,R=c*b-d*m,S=l*b-d*g,B=v*S-w*R+y*T+_*A-x*k+E*M;return B?(B=1/B,t[0]=(s*S-u*R+f*T)*B,t[1]=(i*R-r*S-o*T)*B,t[2]=(m*E-g*x+b*_)*B,t[3]=(l*x-c*E-d*_)*B,t[4]=(u*A-a*S-f*k)*B,t[5]=(n*S-i*A+o*k)*B,t[6]=(g*y-p*E-b*w)*B,t[7]=(h*E-l*y+d*w)*B,t[8]=(a*R-s*A+f*M)*B,t[9]=(r*A-n*R-o*M)*B,t[10]=(p*x-m*y+b*v)*B,t[11]=(c*y-h*x-d*v)*B,t[12]=(s*k-a*T-u*M)*B,t[13]=(n*T-r*k+i*M)*B,t[14]=(m*w-p*_-g*v)*B,t[15]=(h*_-c*w+l*v)*B,t):null}function E(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],f=e[7],h=e[8],c=e[9],l=e[10],d=e[11],p=e[12],m=e[13],g=e[14],b=e[15];return t[0]=s*(l*b-d*g)-c*(u*b-f*g)+m*(u*d-f*l),t[1]=-(r*(l*b-d*g)-c*(i*b-o*g)+m*(i*d-o*l)),t[2]=r*(u*b-f*g)-s*(i*b-o*g)+m*(i*f-o*u),t[3]=-(r*(u*d-f*l)-s*(i*d-o*l)+c*(i*f-o*u)),t[4]=-(a*(l*b-d*g)-h*(u*b-f*g)+p*(u*d-f*l)),t[5]=n*(l*b-d*g)-h*(i*b-o*g)+p*(i*d-o*l),t[6]=-(n*(u*b-f*g)-a*(i*b-o*g)+p*(i*f-o*u)),t[7]=n*(u*d-f*l)-a*(i*d-o*l)+h*(i*f-o*u),t[8]=a*(c*b-d*m)-h*(s*b-f*m)+p*(s*d-f*c),t[9]=-(n*(c*b-d*m)-h*(r*b-o*m)+p*(r*d-o*c)),t[10]=n*(s*b-f*m)-a*(r*b-o*m)+p*(r*f-o*s),t[11]=-(n*(s*d-f*c)-a*(r*d-o*c)+h*(r*f-o*s)),t[12]=-(a*(c*g-l*m)-h*(s*g-u*m)+p*(s*l-u*c)),t[13]=n*(c*g-l*m)-h*(r*g-i*m)+p*(r*l-i*c),t[14]=-(n*(s*g-u*m)-a*(r*g-i*m)+p*(r*u-i*s)),t[15]=n*(s*l-u*c)-a*(r*l-i*c)+h*(r*u-i*s),t}function M(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],u=t[7],f=t[8],h=t[9],c=t[10],l=t[11],d=t[12],p=t[13],m=t[14],g=t[15];return(e*a-n*o)*(c*g-l*m)-(e*s-r*o)*(h*g-l*p)+(e*u-i*o)*(h*m-c*p)+(n*s-r*a)*(f*g-l*d)-(n*u-i*a)*(f*m-c*d)+(r*u-i*s)*(f*p-h*d)}function k(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],f=e[6],h=e[7],c=e[8],l=e[9],d=e[10],p=e[11],m=e[12],g=e[13],b=e[14],v=e[15],w=n[0],y=n[1],_=n[2],x=n[3];return t[0]=w*r+y*s+_*c+x*m,t[1]=w*i+y*u+_*l+x*g,t[2]=w*o+y*f+_*d+x*b,t[3]=w*a+y*h+_*p+x*v,w=n[4],y=n[5],_=n[6],x=n[7],t[4]=w*r+y*s+_*c+x*m,t[5]=w*i+y*u+_*l+x*g,t[6]=w*o+y*f+_*d+x*b,t[7]=w*a+y*h+_*p+x*v,w=n[8],y=n[9],_=n[10],x=n[11],t[8]=w*r+y*s+_*c+x*m,t[9]=w*i+y*u+_*l+x*g,t[10]=w*o+y*f+_*d+x*b,t[11]=w*a+y*h+_*p+x*v,w=n[12],y=n[13],_=n[14],x=n[15],t[12]=w*r+y*s+_*c+x*m,t[13]=w*i+y*u+_*l+x*g,t[14]=w*o+y*f+_*d+x*b,t[15]=w*a+y*h+_*p+x*v,t}function A(t,e,n){var r,i,o,a,s,u,f,h,c,l,d,p,m=n[0],g=n[1],b=n[2];return e===t?(t[12]=e[0]*m+e[4]*g+e[8]*b+e[12],t[13]=e[1]*m+e[5]*g+e[9]*b+e[13],t[14]=e[2]*m+e[6]*g+e[10]*b+e[14],t[15]=e[3]*m+e[7]*g+e[11]*b+e[15]):(r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],f=e[6],h=e[7],c=e[8],l=e[9],d=e[10],p=e[11],t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=f,t[7]=h,t[8]=c,t[9]=l,t[10]=d,t[11]=p,t[12]=r*m+s*g+c*b+e[12],t[13]=i*m+u*g+l*b+e[13],t[14]=o*m+f*g+d*b+e[14],t[15]=a*m+h*g+p*b+e[15]),t}function T(t,e,n){var r=n[0],i=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function R(t,e,n,r){var i,o,a,s,f,h,c,l,d,p,m,g,b,v,w,y,_,x,E,M,k,A,T,R,S=r[0],B=r[1],F=r[2],L=Math.sqrt(S*S+B*B+F*F);return L<u?null:(S*=L=1/L,B*=L,F*=L,i=Math.sin(n),a=1-(o=Math.cos(n)),s=e[0],f=e[1],h=e[2],c=e[3],l=e[4],d=e[5],p=e[6],m=e[7],g=e[8],b=e[9],v=e[10],w=e[11],y=S*S*a+o,_=B*S*a+F*i,x=F*S*a-B*i,E=S*B*a-F*i,M=B*B*a+o,k=F*B*a+S*i,A=S*F*a+B*i,T=B*F*a-S*i,R=F*F*a+o,t[0]=s*y+l*_+g*x,t[1]=f*y+d*_+b*x,t[2]=h*y+p*_+v*x,t[3]=c*y+m*_+w*x,t[4]=s*E+l*M+g*k,t[5]=f*E+d*M+b*k,t[6]=h*E+p*M+v*k,t[7]=c*E+m*M+w*k,t[8]=s*A+l*T+g*R,t[9]=f*A+d*T+b*R,t[10]=h*A+p*T+v*R,t[11]=c*A+m*T+w*R,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function S(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[4],a=e[5],s=e[6],u=e[7],f=e[8],h=e[9],c=e[10],l=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*i+f*r,t[5]=a*i+h*r,t[6]=s*i+c*r,t[7]=u*i+l*r,t[8]=f*i-o*r,t[9]=h*i-a*r,t[10]=c*i-s*r,t[11]=l*i-u*r,t}function B(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],u=e[3],f=e[8],h=e[9],c=e[10],l=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i-f*r,t[1]=a*i-h*r,t[2]=s*i-c*r,t[3]=u*i-l*r,t[8]=o*r+f*i,t[9]=a*r+h*i,t[10]=s*r+c*i,t[11]=u*r+l*i,t}function F(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],u=e[3],f=e[4],h=e[5],c=e[6],l=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i+f*r,t[1]=a*i+h*r,t[2]=s*i+c*r,t[3]=u*i+l*r,t[4]=f*i-o*r,t[5]=h*i-a*r,t[6]=c*i-s*r,t[7]=l*i-u*r,t}function L(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function P(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function U(t,e,n){var r,i,o,a=n[0],s=n[1],f=n[2],h=Math.sqrt(a*a+s*s+f*f);return h<u?null:(a*=h=1/h,s*=h,f*=h,r=Math.sin(e),o=1-(i=Math.cos(e)),t[0]=a*a*o+i,t[1]=s*a*o+f*r,t[2]=f*a*o-s*r,t[3]=0,t[4]=a*s*o-f*r,t[5]=s*s*o+i,t[6]=f*s*o+a*r,t[7]=0,t[8]=a*f*o+s*r,t[9]=s*f*o-a*r,t[10]=f*f*o+i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function C(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function z(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function O(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function I(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=r+r,u=i+i,f=o+o,h=r*s,c=r*u,l=r*f,d=i*u,p=i*f,m=o*f,g=a*s,b=a*u,v=a*f;return t[0]=1-(d+m),t[1]=c+v,t[2]=l-b,t[3]=0,t[4]=c-v,t[5]=1-(h+m),t[6]=p+g,t[7]=0,t[8]=l+b,t[9]=p-g,t[10]=1-(h+d),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function D(t,e){var n=new f(3),r=-e[0],i=-e[1],o=-e[2],a=e[3],s=e[4],u=e[5],h=e[6],c=e[7],l=r*r+i*i+o*o+a*a;return l>0?(n[0]=2*(s*a+c*r+u*o-h*i)/l,n[1]=2*(u*a+c*i+h*r-s*o)/l,n[2]=2*(h*a+c*o+s*i-u*r)/l):(n[0]=2*(s*a+c*r+u*o-h*i),n[1]=2*(u*a+c*i+h*r-s*o),n[2]=2*(h*a+c*o+s*i-u*r)),I(t,e,n),t}function N(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function j(t,e){var n=e[0],r=e[1],i=e[2],o=e[4],a=e[5],s=e[6],u=e[8],f=e[9],h=e[10];return t[0]=Math.sqrt(n*n+r*r+i*i),t[1]=Math.sqrt(o*o+a*a+s*s),t[2]=Math.sqrt(u*u+f*f+h*h),t}function q(t,e){var n=e[0]+e[5]+e[10],r=0;return n>0?(r=2*Math.sqrt(n+1),t[3]=.25*r,t[0]=(e[6]-e[9])/r,t[1]=(e[8]-e[2])/r,t[2]=(e[1]-e[4])/r):e[0]>e[5]&&e[0]>e[10]?(r=2*Math.sqrt(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/r,t[0]=.25*r,t[1]=(e[1]+e[4])/r,t[2]=(e[8]+e[2])/r):e[5]>e[10]?(r=2*Math.sqrt(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/r,t[0]=(e[1]+e[4])/r,t[1]=.25*r,t[2]=(e[6]+e[9])/r):(r=2*Math.sqrt(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/r,t[0]=(e[8]+e[2])/r,t[1]=(e[6]+e[9])/r,t[2]=.25*r),t}function Y(t,e,n,r){var i=e[0],o=e[1],a=e[2],s=e[3],u=i+i,f=o+o,h=a+a,c=i*u,l=i*f,d=i*h,p=o*f,m=o*h,g=a*h,b=s*u,v=s*f,w=s*h,y=r[0],_=r[1],x=r[2];return t[0]=(1-(p+g))*y,t[1]=(l+w)*y,t[2]=(d-v)*y,t[3]=0,t[4]=(l-w)*_,t[5]=(1-(c+g))*_,t[6]=(m+b)*_,t[7]=0,t[8]=(d+v)*x,t[9]=(m-b)*x,t[10]=(1-(c+p))*x,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function H(t,e,n,r,i){var o=e[0],a=e[1],s=e[2],u=e[3],f=o+o,h=a+a,c=s+s,l=o*f,d=o*h,p=o*c,m=a*h,g=a*c,b=s*c,v=u*f,w=u*h,y=u*c,_=r[0],x=r[1],E=r[2],M=i[0],k=i[1],A=i[2],T=(1-(m+b))*_,R=(d+y)*_,S=(p-w)*_,B=(d-y)*x,F=(1-(l+b))*x,L=(g+v)*x,P=(p+w)*E,U=(g-v)*E,C=(1-(l+m))*E;return t[0]=T,t[1]=R,t[2]=S,t[3]=0,t[4]=B,t[5]=F,t[6]=L,t[7]=0,t[8]=P,t[9]=U,t[10]=C,t[11]=0,t[12]=n[0]+M-(T*M+B*k+P*A),t[13]=n[1]+k-(R*M+F*k+U*A),t[14]=n[2]+A-(S*M+L*k+C*A),t[15]=1,t}function Z(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n+n,s=r+r,u=i+i,f=n*a,h=r*a,c=r*s,l=i*a,d=i*s,p=i*u,m=o*a,g=o*s,b=o*u;return t[0]=1-c-p,t[1]=h+b,t[2]=l-g,t[3]=0,t[4]=h-b,t[5]=1-f-p,t[6]=d+m,t[7]=0,t[8]=l+g,t[9]=d-m,t[10]=1-f-c,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function W(t,e,n,r,i,o,a){var s=1/(n-e),u=1/(i-r),f=1/(o-a);return t[0]=2*o*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*u,t[6]=0,t[7]=0,t[8]=(n+e)*s,t[9]=(i+r)*u,t[10]=(a+o)*f,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*o*2*f,t[15]=0,t}function V(t,e,n,r,i){var o,a=1/Math.tan(e/2);return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(o=1/(r-i),t[10]=(i+r)*o,t[14]=2*i*r*o):(t[10]=-1,t[14]=-2*r),t}function X(t,e,n,r){var i=Math.tan(e.upDegrees*Math.PI/180),o=Math.tan(e.downDegrees*Math.PI/180),a=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),u=2/(a+s),f=2/(i+o);return t[0]=u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=f,t[6]=0,t[7]=0,t[8]=-(a-s)*u*.5,t[9]=(i-o)*f*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t}function $(t,e,n,r,i,o,a){var s=1/(e-n),u=1/(r-i),f=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*f,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*u,t[14]=(a+o)*f,t[15]=1,t}function K(t,e,n,r){var i,o,a,s,f,h,c,l,d,p,m=e[0],g=e[1],b=e[2],v=r[0],w=r[1],_=r[2],x=n[0],E=n[1],M=n[2];return Math.abs(m-x)<u&&Math.abs(g-E)<u&&Math.abs(b-M)<u?y(t):(c=m-x,l=g-E,d=b-M,i=w*(d*=p=1/Math.sqrt(c*c+l*l+d*d))-_*(l*=p),o=_*(c*=p)-v*d,a=v*l-w*c,(p=Math.sqrt(i*i+o*o+a*a))?(i*=p=1/p,o*=p,a*=p):(i=0,o=0,a=0),s=l*a-d*o,f=d*i-c*a,h=c*o-l*i,(p=Math.sqrt(s*s+f*f+h*h))?(s*=p=1/p,f*=p,h*=p):(s=0,f=0,h=0),t[0]=i,t[1]=s,t[2]=c,t[3]=0,t[4]=o,t[5]=f,t[6]=l,t[7]=0,t[8]=a,t[9]=h,t[10]=d,t[11]=0,t[12]=-(i*m+o*g+a*b),t[13]=-(s*m+f*g+h*b),t[14]=-(c*m+l*g+d*b),t[15]=1,t)}function G(t,e,n,r){var i=e[0],o=e[1],a=e[2],s=r[0],u=r[1],f=r[2],h=i-n[0],c=o-n[1],l=a-n[2],d=h*h+c*c+l*l;d>0&&(h*=d=1/Math.sqrt(d),c*=d,l*=d);var p=u*l-f*c,m=f*h-s*l,g=s*c-u*h;return(d=p*p+m*m+g*g)>0&&(p*=d=1/Math.sqrt(d),m*=d,g*=d),t[0]=p,t[1]=m,t[2]=g,t[3]=0,t[4]=c*g-l*m,t[5]=l*p-h*g,t[6]=h*m-c*p,t[7]=0,t[8]=h,t[9]=c,t[10]=l,t[11]=0,t[12]=i,t[13]=o,t[14]=a,t[15]=1,t}function Q(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function J(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))}function tt(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t}function et(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}function nt(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t}function rt(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t[9]=e[9]+n[9]*r,t[10]=e[10]+n[10]*r,t[11]=e[11]+n[11]*r,t[12]=e[12]+n[12]*r,t[13]=e[13]+n[13]*r,t[14]=e[14]+n[14]*r,t[15]=e[15]+n[15]*r,t}function it(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function ot(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],f=t[6],h=t[7],c=t[8],l=t[9],d=t[10],p=t[11],m=t[12],g=t[13],b=t[14],v=t[15],w=e[0],y=e[1],_=e[2],x=e[3],E=e[4],M=e[5],k=e[6],A=e[7],T=e[8],R=e[9],S=e[10],B=e[11],F=e[12],L=e[13],P=e[14],U=e[15];return Math.abs(n-w)<=u*Math.max(1,Math.abs(n),Math.abs(w))&&Math.abs(r-y)<=u*Math.max(1,Math.abs(r),Math.abs(y))&&Math.abs(i-_)<=u*Math.max(1,Math.abs(i),Math.abs(_))&&Math.abs(o-x)<=u*Math.max(1,Math.abs(o),Math.abs(x))&&Math.abs(a-E)<=u*Math.max(1,Math.abs(a),Math.abs(E))&&Math.abs(s-M)<=u*Math.max(1,Math.abs(s),Math.abs(M))&&Math.abs(f-k)<=u*Math.max(1,Math.abs(f),Math.abs(k))&&Math.abs(h-A)<=u*Math.max(1,Math.abs(h),Math.abs(A))&&Math.abs(c-T)<=u*Math.max(1,Math.abs(c),Math.abs(T))&&Math.abs(l-R)<=u*Math.max(1,Math.abs(l),Math.abs(R))&&Math.abs(d-S)<=u*Math.max(1,Math.abs(d),Math.abs(S))&&Math.abs(p-B)<=u*Math.max(1,Math.abs(p),Math.abs(B))&&Math.abs(m-F)<=u*Math.max(1,Math.abs(m),Math.abs(F))&&Math.abs(g-L)<=u*Math.max(1,Math.abs(g),Math.abs(L))&&Math.abs(b-P)<=u*Math.max(1,Math.abs(b),Math.abs(P))&&Math.abs(v-U)<=u*Math.max(1,Math.abs(v),Math.abs(U))}var at=k,st=et;function ut(){var t=new f(3);return f!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function ft(t){var e=new f(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function ht(t){var e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)}function ct(t,e,n){var r=new f(3);return r[0]=t,r[1]=e,r[2]=n,r}function lt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function dt(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t}function pt(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function mt(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function gt(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function bt(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function vt(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}function wt(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}function yt(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t}function _t(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t}function xt(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}function Et(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function Mt(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t}function kt(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.sqrt(n*n+r*r+i*i)}function At(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return n*n+r*r+i*i}function Tt(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r}function Rt(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function St(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function Bt(t,e){var n=e[0],r=e[1],i=e[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o)),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o,t}function Ft(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Lt(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],u=n[2];return t[0]=i*u-o*s,t[1]=o*a-r*u,t[2]=r*s-i*a,t}function Pt(t,e,n,r){var i=e[0],o=e[1],a=e[2];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=a+r*(n[2]-a),t}function Ut(t,e,n,r,i,o){var a=o*o,s=a*(2*o-3)+1,u=a*(o-2)+o,f=a*(o-1),h=a*(3-2*o);return t[0]=e[0]*s+n[0]*u+r[0]*f+i[0]*h,t[1]=e[1]*s+n[1]*u+r[1]*f+i[1]*h,t[2]=e[2]*s+n[2]*u+r[2]*f+i[2]*h,t}function Ct(t,e,n,r,i,o){var a=1-o,s=a*a,u=o*o,f=s*a,h=3*o*s,c=3*u*a,l=u*o;return t[0]=e[0]*f+n[0]*h+r[0]*c+i[0]*l,t[1]=e[1]*f+n[1]*h+r[1]*c+i[1]*l,t[2]=e[2]*f+n[2]*h+r[2]*c+i[2]*l,t}function zt(t,e){e=e||1;var n=2*h()*Math.PI,r=2*h()-1,i=Math.sqrt(1-r*r)*e;return t[0]=Math.cos(n)*i,t[1]=Math.sin(n)*i,t[2]=r*e,t}function Ot(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[3]*r+n[7]*i+n[11]*o+n[15];return a=a||1,t[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/a,t[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/a,t[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/a,t}function It(t,e,n){var r=e[0],i=e[1],o=e[2];return t[0]=r*n[0]+i*n[3]+o*n[6],t[1]=r*n[1]+i*n[4]+o*n[7],t[2]=r*n[2]+i*n[5]+o*n[8],t}function Dt(t,e,n){var r=n[0],i=n[1],o=n[2],a=n[3],s=e[0],u=e[1],f=e[2],h=i*f-o*u,c=o*s-r*f,l=r*u-i*s,d=i*l-o*c,p=o*h-r*l,m=r*c-i*h,g=2*a;return h*=g,c*=g,l*=g,d*=2,p*=2,m*=2,t[0]=s+h+d,t[1]=u+c+p,t[2]=f+l+m,t}function Nt(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0],o[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),o[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function jt(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),o[1]=i[1],o[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function qt(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),o[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),o[2]=i[2],t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function Yt(t,e){var n=ct(t[0],t[1],t[2]),r=ct(e[0],e[1],e[2]);Bt(n,n),Bt(r,r);var i=Ft(n,r);return i>1?0:i<-1?Math.PI:Math.acos(i)}function Ht(t){return t[0]=0,t[1]=0,t[2]=0,t}function Zt(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function Wt(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function Vt(t,e){var n=t[0],r=t[1],i=t[2],o=e[0],a=e[1],s=e[2];return Math.abs(n-o)<=u*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-a)<=u*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(i-s)<=u*Math.max(1,Math.abs(i),Math.abs(s))}var Xt,$t=mt,Kt=gt,Gt=bt,Qt=kt,Jt=At,te=ht,ee=Tt,ne=(Xt=ut(),function(t,e,n,r,i,o){var a,s;for(e||(e=3),n||(n=0),s=r?Math.min(r*e+n,t.length):t.length,a=n;a<s;a+=e)Xt[0]=t[a],Xt[1]=t[a+1],Xt[2]=t[a+2],i(Xt,Xt,o),t[a]=Xt[0],t[a+1]=Xt[1],t[a+2]=Xt[2];return t});function re(t){var e=t[0],n=t[1],r=t[2],i=t[3];return Math.sqrt(e*e+n*n+r*r+i*i)}function ie(t){var e=t[0],n=t[1],r=t[2],i=t[3];return e*e+n*n+r*r+i*i}!function(){var t,e=(t=new f(4),f!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t)}();function oe(){var t=new f(4);return f!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function ae(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function se(t,e,n){n*=.5;var r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t}function ue(t,e){var n=2*Math.acos(e[3]),r=Math.sin(n/2);return r>u?(t[0]=e[0]/r,t[1]=e[1]/r,t[2]=e[2]/r):(t[0]=1,t[1]=0,t[2]=0),n}function fe(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=n[0],u=n[1],f=n[2],h=n[3];return t[0]=r*h+a*s+i*f-o*u,t[1]=i*h+a*u+o*s-r*f,t[2]=o*h+a*f+r*u-i*s,t[3]=a*h-r*s-i*u-o*f,t}function he(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+a*s,t[1]=i*u+o*s,t[2]=o*u-i*s,t[3]=a*u-r*s,t}function ce(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u-o*s,t[1]=i*u+a*s,t[2]=o*u+r*s,t[3]=a*u-i*s,t}function le(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+i*s,t[1]=i*u-r*s,t[2]=o*u+a*s,t[3]=a*u-o*s,t}function de(t,e){var n=e[0],r=e[1],i=e[2];return t[0]=n,t[1]=r,t[2]=i,t[3]=Math.sqrt(Math.abs(1-n*n-r*r-i*i)),t}function pe(t,e,n,r){var i,o,a,s,f,h=e[0],c=e[1],l=e[2],d=e[3],p=n[0],m=n[1],g=n[2],b=n[3];return(o=h*p+c*m+l*g+d*b)<0&&(o=-o,p=-p,m=-m,g=-g,b=-b),1-o>u?(i=Math.acos(o),a=Math.sin(i),s=Math.sin((1-r)*i)/a,f=Math.sin(r*i)/a):(s=1-r,f=r),t[0]=s*h+f*p,t[1]=s*c+f*m,t[2]=s*l+f*g,t[3]=s*d+f*b,t}function me(t){var e=h(),n=h(),r=h(),i=Math.sqrt(1-e),o=Math.sqrt(e);return t[0]=i*Math.sin(2*Math.PI*n),t[1]=i*Math.cos(2*Math.PI*n),t[2]=o*Math.sin(2*Math.PI*r),t[3]=o*Math.cos(2*Math.PI*r),t}function ge(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*n+r*r+i*i+o*o,s=a?1/a:0;return t[0]=-n*s,t[1]=-r*s,t[2]=-i*s,t[3]=o*s,t}function be(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function ve(t,e){var n,r=e[0]+e[4]+e[8];if(r>0)n=Math.sqrt(r+1),t[3]=.5*n,n=.5/n,t[0]=(e[5]-e[7])*n,t[1]=(e[6]-e[2])*n,t[2]=(e[1]-e[3])*n;else{var i=0;e[4]>e[0]&&(i=1),e[8]>e[3*i+i]&&(i=2);var o=(i+1)%3,a=(i+2)%3;n=Math.sqrt(e[3*i+i]-e[3*o+o]-e[3*a+a]+1),t[i]=.5*n,n=.5/n,t[3]=(e[3*o+a]-e[3*a+o])*n,t[o]=(e[3*o+i]+e[3*i+o])*n,t[a]=(e[3*a+i]+e[3*i+a])*n}return t}function we(t,e,n,r){var i=.5*Math.PI/180;e*=i,n*=i,r*=i;var o=Math.sin(e),a=Math.cos(e),s=Math.sin(n),u=Math.cos(n),f=Math.sin(r),h=Math.cos(r);return t[0]=o*u*h-a*s*f,t[1]=a*s*h+o*u*f,t[2]=a*u*f-o*s*h,t[3]=a*u*h+o*s*f,t}function ye(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}var _e,xe,Ee,Me,ke,Ae,Te,Re=function(t){var e=new f(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},Se=function(t,e,n,r){var i=new f(4);return i[0]=t,i[1]=e,i[2]=n,i[3]=r,i},Be=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},Fe=function(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t},Le=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t},Pe=fe,Ue=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t},Ce=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},ze=function(t,e,n,r){var i=e[0],o=e[1],a=e[2],s=e[3];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=a+r*(n[2]-a),t[3]=s+r*(n[3]-s),t},Oe=re,Ie=Oe,De=ie,Ne=De,je=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*n+r*r+i*i+o*o;return a>0&&(a=1/Math.sqrt(a)),t[0]=n*a,t[1]=r*a,t[2]=i*a,t[3]=o*a,t},qe=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},Ye=function(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=e[0],s=e[1],f=e[2],h=e[3];return Math.abs(n-a)<=u*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-s)<=u*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(i-f)<=u*Math.max(1,Math.abs(i),Math.abs(f))&&Math.abs(o-h)<=u*Math.max(1,Math.abs(o),Math.abs(h))},He=(_e=ut(),xe=ct(1,0,0),Ee=ct(0,1,0),function(t,e,n){var r=Ft(e,n);return r<-.999999?(Lt(_e,xe,e),te(_e)<1e-6&&Lt(_e,Ee,e),Bt(_e,_e),se(t,_e,Math.PI),t):r>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(Lt(_e,e,n),t[0]=_e[0],t[1]=_e[1],t[2]=_e[2],t[3]=1+r,je(t,t))}),Ze=(Me=oe(),ke=oe(),function(t,e,n,r,i,o){return pe(Me,e,i,o),pe(ke,n,r,o),pe(t,Me,ke,2*o*(1-o)),t}),We=(Ae=new f(9),f!=Float32Array&&(Ae[1]=0,Ae[2]=0,Ae[3]=0,Ae[5]=0,Ae[6]=0,Ae[7]=0),Ae[0]=1,Ae[4]=1,Ae[8]=1,Te=Ae,function(t,e,n,r){return Te[0]=n[0],Te[3]=n[1],Te[6]=n[2],Te[1]=r[0],Te[4]=r[1],Te[7]=r[2],Te[2]=-e[0],Te[5]=-e[1],Te[8]=-e[2],je(t,ve(t,Te))});function Ve(){var t=new f(2);return f!=Float32Array&&(t[0]=0,t[1]=0),t}function Xe(t){var e=new f(2);return e[0]=t[0],e[1]=t[1],e}function $e(t,e){var n=new f(2);return n[0]=t,n[1]=e,n}function Ke(t,e){return t[0]=e[0],t[1]=e[1],t}function Ge(t,e,n){return t[0]=e,t[1]=n,t}function Qe(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function Je(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function tn(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}function en(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}function nn(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}function rn(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}function on(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function an(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}function sn(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}function un(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function fn(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t}function hn(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)}function cn(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r}function ln(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)}function dn(t){var e=t[0],n=t[1];return e*e+n*n}function pn(t,e){return t[0]=-e[0],t[1]=-e[1],t}function mn(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}function gn(t,e){var n=e[0],r=e[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i)),t[0]=e[0]*i,t[1]=e[1]*i,t}function bn(t,e){return t[0]*e[0]+t[1]*e[1]}function vn(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t}function wn(t,e,n,r){var i=e[0],o=e[1];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t}function yn(t,e){e=e||1;var n=2*h()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t}function _n(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i,t[1]=n[1]*r+n[3]*i,t}function xn(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t}function En(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[3]*i+n[6],t[1]=n[1]*r+n[4]*i+n[7],t}function Mn(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t}function kn(t,e,n,r){var i=e[0]-n[0],o=e[1]-n[1],a=Math.sin(r),s=Math.cos(r);return t[0]=i*s-o*a+n[0],t[1]=i*a+o*s+n[1],t}function An(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=n*n+r*r;a>0&&(a=1/Math.sqrt(a));var s=i*i+o*o;s>0&&(s=1/Math.sqrt(s));var u=(n*i+r*o)*a*s;return u>1?0:u<-1?Math.PI:Math.acos(u)}function Tn(t){return t[0]=0,t[1]=0,t}function Rn(t){return"vec2("+t[0]+", "+t[1]+")"}function Sn(t,e){return t[0]===e[0]&&t[1]===e[1]}function Bn(t,e){var n=t[0],r=t[1],i=e[0],o=e[1];return Math.abs(n-i)<=u*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-o)<=u*Math.max(1,Math.abs(r),Math.abs(o))}var Fn=ln,Ln=Je,Pn=tn,Un=en,Cn=hn,zn=cn,On=dn,In=function(){var t=Ve();return function(e,n,r,i,o,a){var s,u;for(n||(n=2),r||(r=0),u=i?Math.min(i*n+r,e.length):e.length,s=r;s<u;s+=n)t[0]=e[s],t[1]=e[s+1],o(t,t,a),e[s]=t[0],e[s+1]=t[1];return e}}();var Dn=class{constructor(){this.position=o.fromValues(0,1.5,0),this.yaw=r.toRadian(270),this.pitch=0,this.lookAt=o.create(),this.front=o.create(),this.right=o.create(),this.up=o.create(),this.worldFront=o.create(),this.worldRight=o.create(),this.worldUp=o.fromValues(0,1,0),this.frustum=[...Array(6)].map(()=>({normal:o.create(),constant:0})),this.projection=i.create(),this.transform=i.create(),this.view=i.create(),this.updateVectors()}processInput({input:{isLocked:t,keyboard:e,mouse:n},delta:r}){if(t){if(0!==n[0]||0!==n[1]){const t=.003;this.yaw+=n[0]*t,this.pitch-=n[1]*t;const e=Math.PI/2*.99;this.pitch=Math.max(-e,Math.min(e,this.pitch)),s.set(n,0,0),this.updateVectors()}if(0!==e[0]||0!==e[1]||0!==e[2]){const{lookAt:t,position:n,worldFront:i,worldRight:a,worldUp:s}=this;o.set(t,0,0,0),o.scaleAndAdd(t,t,a,e[0]),o.scaleAndAdd(t,t,s,e[1]),o.scaleAndAdd(t,t,i,e[2]),o.normalize(t,t,t),o.scaleAndAdd(n,n,t,.005*r),this.updateTransform()}}}isInFrustum({origin:t,radius:e}){const{frustum:n}=this;for(let r=0;r<n.length;r+=1)if(o.dot(n[r].normal,t)+n[r].constant<-e)return!1;return!0}setAspect(t){i.perspective(this.projection,r.toRadian(60),t,.1,1e3),this.updateTransform()}updateFrustum(){const{frustum:t,transform:e}=this,n=(e,n,r,i,a)=>{const s=t[e];o.set(s.normal,n,r,i);const u=1/o.length(s.normal);o.scale(s.normal,s.normal,u),s.constant=a*u};n(0,e[3]-e[0],e[7]-e[4],e[11]-e[8],e[15]-e[12]),n(1,e[3]+e[0],e[7]+e[4],e[11]+e[8],e[15]+e[12]),n(2,e[3]+e[1],e[7]+e[5],e[11]+e[9],e[15]+e[13]),n(3,e[3]-e[1],e[7]-e[5],e[11]-e[9],e[15]-e[13]),n(4,e[3]-e[2],e[7]-e[6],e[11]-e[10],e[15]-e[14]),n(5,e[3]+e[2],e[7]+e[6],e[11]+e[10],e[15]+e[14])}updateVectors(){const{front:t,right:e,up:n,yaw:r,pitch:i,worldFront:a,worldRight:s,worldUp:u,lookAt:f}=this;o.set(f,Math.cos(r)*Math.cos(i),Math.sin(i),Math.sin(r)*Math.cos(i)),o.normalize(t,f),o.cross(e,t,u),o.normalize(e,e),o.cross(n,e,t),o.normalize(n,n),f[1]=0,o.normalize(a,f),o.cross(s,a,u),o.normalize(s,s),this.updateTransform()}updateTransform(){const{position:t,front:e,lookAt:n,worldUp:r,projection:a,transform:s,view:u}=this;o.add(n,t,e),i.lookAt(u,t,n,r),i.multiply(s,a,u),this.updateFrustum()}};class Nn{constructor({renderer:{context:t,physics:e},index:n,position:r,normal:i,color:a,uv:s,collision:u}){const{attributes:f}=Nn,h=t.createVertexArray();t.bindVertexArray(h);const c=[],l=(e,n,r,i=t.FLOAT)=>{const o=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,o),t.bufferData(t.ARRAY_BUFFER,e,t.STATIC_DRAW,0),t.enableVertexAttribArray(f[n]),t.vertexAttribPointer(f[n],r,i,!1,0,0),c.push(o)};if(l(r,"position",3),i&&l(i,"normal",3),a&&l(a,"color",3),s&&l(s,"uv",2),n){const e=t.createBuffer();t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e),t.bufferData(t.ELEMENT_ARRAY_BUFFER,n,t.STATIC_DRAW),this.ebo=e,this.count=n.length}else this.count=r.length/3;t.bindVertexArray(null),this.context=t,this.vao=h,this.vbos=c,u&&(this.collision=e.getShape(u).then(({id:t})=>{this.collision={shape:t,offset:u.offset}}));const d=o.create(),p=o.create(),m=o.create();for(let t=0;t<r.length;t+=3)o.set(m,r[t],r[t+1],r[t+2]),o.min(d,d,m),o.max(p,p,m);o.sub(m,p,d),this.origin=o.scaleAndAdd(o.create(),d,m,.5),this.radius=.5*o.distance(d,p)}dispose(){const{context:t,ebo:e,vao:n,vbos:r}=this;t.deleteVertexArray(n),r.forEach(e=>t.deleteBuffer(e)),e&&t.deleteBuffer(e)}}Nn.attributes={position:0,normal:1,color:2,uv:3};var jn=Nn,qn=n(30),Yn=n.n(qn),Hn=n(31),Zn=n.n(Hn);var Wn=class{constructor({mount:t}){this.buttons={},this.keyboard=o.create(),this.mouse=s.create(),this.fullscreen=Yn()(t),this.onBlur=this.onBlur.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onMouseUp=this.onMouseUp.bind(this),this.onKeyboardDown=this.onKeyboardDown.bind(this),this.onKeyboardUp=this.onKeyboardUp.bind(this),this.pointerlock=Zn()(t),this.pointerlock.on("attain",this.onPointerLockAttain.bind(this))}onBlur(){const{keyboard:t}=this;this.buttons={},o.set(t,0,0,0)}onPointerLockAttain(t){this.isLocked=!0,window.addEventListener("blur",this.onBlur,!1),window.addEventListener("mousedown",this.onMouseDown,!1),window.addEventListener("mouseup",this.onMouseUp,!1),window.addEventListener("keydown",this.onKeyboardDown,!1),window.addEventListener("keyup",this.onKeyboardUp,!1),t.on("data",this.onPointerMovement.bind(this)),t.on("close",this.onPointerLockClose.bind(this))}onPointerLockClose(){const{fullscreen:t,keyboard:e,mouse:n}=this;window.removeEventListener("blur",this.onBlur),window.removeEventListener("mousedown",this.onMouseDown),window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("keydown",this.onKeyboardDown),window.removeEventListener("keyup",this.onKeyboardUp),this.isLocked=!1,o.set(e,0,0,0),s.set(n,0,0),t.target()&&t.release()}onPointerMovement({dx:t,dy:e}){const{mouse:n}=this;s.set(n,t,e)}onMouseDown({button:t}){const{buttons:e}=this;switch(t){case 2:e.secondary=!0,e.secondaryDown=!0;break;default:e.primary=!0,e.primaryDown=!0}}onMouseUp({button:t}){const{buttons:e}=this;switch(t){case 2:e.secondary&&(e.secondary=!1,e.secondaryUp=!0);break;default:e.primary&&(e.primary=!1,e.primaryUp=!0)}}onKeyboardDown({keyCode:t,repeat:e}){const{fullscreen:n,keyboard:r}=this;if(!e)switch(t){case 65:r[0]=-1;break;case 68:r[0]=1;break;case 16:r[1]=-1;break;case 32:r[1]=1;break;case 83:r[2]=-1;break;case 87:r[2]=1;break;case 70:n.request()}}onKeyboardUp({keyCode:t,repeat:e}){const{keyboard:n}=this;if(!e)switch(t){case 65:n[0]<0&&(n[0]=0);break;case 68:n[0]>0&&(n[0]=0);break;case 16:n[1]<0&&(n[1]=0);break;case 32:n[1]>0&&(n[1]=0);break;case 83:n[2]<0&&(n[2]=0);break;case 87:n[2]>0&&(n[2]=0)}}};class Vn{constructor({context:t}){const{textures:e}=Vn,{drawingBufferWidth:n,drawingBufferHeight:r}=t;this.context=t,this.renderBuffer=t.createFramebuffer(),t.bindFramebuffer(t.FRAMEBUFFER,this.renderBuffer),e.forEach(({id:e,attachment:i,internalFormat:o="RGBA16F"})=>{this[`${e}Buffer`]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,this[`${e}Buffer`]),t.renderbufferStorageMultisample(t.RENDERBUFFER,Math.min(t.getParameter(t.MAX_SAMPLES),2),t[o],n,r),t.framebufferRenderbuffer(t.FRAMEBUFFER,t[i],t.RENDERBUFFER,this[`${e}Buffer`]),t.bindRenderbuffer(t.RENDERBUFFER,null)}),t.bindFramebuffer(t.FRAMEBUFFER,null),this.outputBuffer=t.createFramebuffer(),t.bindFramebuffer(t.FRAMEBUFFER,this.outputBuffer),e.forEach(({id:e,attachment:i,internalFormat:o="RGBA16F",format:a="RGBA",type:s="FLOAT"})=>{this[`${e}Texture`]=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this[`${e}Texture`]),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texImage2D(t.TEXTURE_2D,0,t[o],n,r,0,t[a],t[s],null),t.framebufferTexture2D(t.FRAMEBUFFER,t[i],t.TEXTURE_2D,this[`${e}Texture`],0),t.bindTexture(t.TEXTURE_2D,null)}),t.bindFramebuffer(t.FRAMEBUFFER,null);const i=e.reduce(({max:t,index:e},{attachment:n})=>(0===n.indexOf("COLOR_ATTACHMENT")&&(t=Math.max(t,parseInt(n.substr("COLOR_ATTACHMENT".length),10)),e[n]=!0),{max:t,index:e}),{max:0,index:{}});this.attachments=[...Array(i.max+1)].map((e,n)=>{const r=`COLOR_ATTACHMENT${n}`;return i.index[r]?t[r]:t.NONE})}dispose(){const{context:t,renderBuffer:e,outputBuffer:n}=this,{textures:r}=Vn;r.forEach(({id:e})=>{t.deleteRenderbuffer(this[`${e}Buffer`]),t.deleteTexture(this[`${e}Texture`])}),t.deleteFramebuffer(e),t.deleteFramebuffer(n)}}Vn.textures=[{id:"color",attachment:"COLOR_ATTACHMENT0",internalFormat:"RGBA8",type:"UNSIGNED_BYTE"},{id:"depth",attachment:"DEPTH_ATTACHMENT",internalFormat:"DEPTH_COMPONENT24",format:"DEPTH_COMPONENT",type:"UNSIGNED_INT"},{id:"normal",attachment:"COLOR_ATTACHMENT1"},{id:"position",attachment:"COLOR_ATTACHMENT2"}];var Xn=Vn,$n=n(32),Kn=n.n($n);var Gn=class{constructor(){this.bodies={all:[],dynamic:[],emitters:[],index:new Map},this.buffer=new Float32Array,this.lastTick=window.performance.now(),this.promises={},this.requestId=1,this.worker=new Kn.a,this.worker.addEventListener("message",this.onMessage.bind(this)),this.step()}addBody(t){const{bodies:e}=this,n=this.request({action:"addBody",payload:{physics:{...t.physics,body:void 0,emitContacts:!!t.onContact,collision:t.geometry.collision},position:t.position,rotation:t.rotation}}).then(({id:e})=>{t.physics.body=e,this.bodies.index.set(e,t)});return e.all.push(t),0===t.physics.mass||t.physics.kinematic||(e.dynamic.push(t),this.bufferNeedsUpdate=!0),t.onContact&&e.emitters.push(t),t.physics.body=n,n}addContactMaterial({materialA:t,materialB:e,friction:n,restitution:r}){return this.request({action:"addContactMaterial",payload:{materialA:t,materialB:e,friction:n,restitution:r}})}addConstraint({axisA:t,axisB:e,bodyA:n,bodyB:r,pivotA:i,pivotB:o,type:a}){return this.request({action:"addConstraint",payload:{axisA:t,axisB:e,bodyA:n,bodyB:r,pivotA:i,pivotB:o,type:a}})}getShape(t){return this.request({action:"getShape",payload:t})}reset(){return this.bodies.all.length=0,this.bodies.dynamic.length=0,this.bodies.emitters.length=0,this.bodies.index=new Map,this.bufferNeedsUpdate=!0,this.request({action:"reset"})}resetBody(t){return this.request({action:"resetBody",payload:t})}step(){this.bufferNeedsUpdate&&(delete this.bufferNeedsUpdate,this.buffer=new Float32Array(7*this.bodies.dynamic.length));const{buffer:t,debug:e,lastTick:n}=this,r=window.performance.now();return e&&(e(r-n),this.lastTick=r),this.request({action:"step",buffers:[t.buffer],payload:{buffer:t}}).then(({buffer:t,contacts:e})=>{this.bufferNeedsUpdate||(this.buffer=t,this.bodies.dynamic.forEach((t,e)=>{const n=7*e;o.set(t.position,this.buffer[n],this.buffer[n+1],this.buffer[n+2]),a.set(t.rotation,this.buffer[n+3],this.buffer[n+4],this.buffer[n+5],this.buffer[n+6]),t.updateTransform()})),e&&this.bodies.emitters.forEach(t=>{e.has(t.physics.body)&&t.onContact(e.get(t.physics.body))});const n=window.performance.now()-r;setTimeout(()=>this.step(),Math.max(0,1/60*1e3-n))})}onMessage({data:{id:t,response:e}}){const{promises:n}=this,{[t]:r}=n;r&&(delete n[t],r(e))}request({action:t,buffers:e,payload:n}){const{promises:r,requestId:i,worker:o}=this;return this.requestId+=1,new Promise(a=>{r[i]=a,o.postMessage({id:i,action:t,payload:n},e)})}};function Qn(){return(Qn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Jn(t){return"/"===t.charAt(0)}function tr(t,e){for(var n=e,r=n+1,i=t.length;r<i;n+=1,r+=1)t[n]=t[r];t.pop()}var er=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=t&&t.split("/")||[],r=e&&e.split("/")||[],i=t&&Jn(t),o=e&&Jn(e),a=i||o;if(t&&Jn(t)?r=n:n.length&&(r.pop(),r=r.concat(n)),!r.length)return"/";var s=void 0;if(r.length){var u=r[r.length-1];s="."===u||".."===u||""===u}else s=!1;for(var f=0,h=r.length;h>=0;h--){var c=r[h];"."===c?tr(r,h):".."===c?(tr(r,h),f++):f&&(tr(r,h),f--)}if(!a)for(;f--;f)r.unshift("..");!a||""===r[0]||r[0]&&Jn(r[0])||r.unshift("");var l=r.join("/");return s&&"/"!==l.substr(-1)&&(l+="/"),l};"function"==typeof Symbol&&Symbol.iterator;var nr=!0,rr="Invariant failed";var ir=function(t,e){if(!t)throw nr?new Error(rr):new Error(rr+": "+(e||""))};function or(t){return"/"===t.charAt(0)?t:"/"+t}function ar(t,e){return function(t,e){return new RegExp("^"+e+"(\\/|\\?|#|$)","i").test(t)}(t,e)?t.substr(e.length):t}function sr(t){return"/"===t.charAt(t.length-1)?t.slice(0,-1):t}function ur(t){var e=t.pathname,n=t.search,r=t.hash,i=e||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function fr(t,e,n,r){var i;"string"==typeof t?(i=function(t){var e=t||"/",n="",r="",i=e.indexOf("#");-1!==i&&(r=e.substr(i),e=e.substr(0,i));var o=e.indexOf("?");return-1!==o&&(n=e.substr(o),e=e.substr(0,o)),{pathname:e,search:"?"===n?"":n,hash:"#"===r?"":r}}(t)).state=e:(void 0===(i=Qn({},t)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==e&&void 0===i.state&&(i.state=e));try{i.pathname=decodeURI(i.pathname)}catch(t){throw t instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):t}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=er(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function hr(){var t=null;var e=[];return{setPrompt:function(e){return t=e,function(){t===e&&(t=null)}},confirmTransitionTo:function(e,n,r,i){if(null!=t){var o="function"==typeof t?t(e,n):t;"string"==typeof o?"function"==typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(t){var n=!0;function r(){n&&t.apply(void 0,arguments)}return e.push(r),function(){n=!1,e=e.filter(function(t){return t!==r})}},notifyListeners:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.forEach(function(t){return t.apply(void 0,n)})}}}var cr=!("undefined"==typeof window||!window.document||!window.document.createElement);function lr(t,e){e(window.confirm(t))}var dr="popstate",pr="hashchange";function mr(){try{return window.history.state||{}}catch(t){return{}}}function gr(t){void 0===t&&(t={}),cr||ir(!1);var e,n=window.history,r=(-1===(e=window.navigator.userAgent).indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history,i=!(-1===window.navigator.userAgent.indexOf("Trident")),o=t,a=o.forceRefresh,s=void 0!==a&&a,u=o.getUserConfirmation,f=void 0===u?lr:u,h=o.keyLength,c=void 0===h?6:h,l=t.basename?sr(or(t.basename)):"";function d(t){var e=t||{},n=e.key,r=e.state,i=window.location,o=i.pathname+i.search+i.hash;return l&&(o=ar(o,l)),fr(o,r,n)}function p(){return Math.random().toString(36).substr(2,c)}var m=hr();function g(t){Qn(R,t),R.length=n.length,m.notifyListeners(R.location,R.action)}function b(t){(function(t){void 0===t.state&&navigator.userAgent.indexOf("CriOS")})(t)||y(d(t.state))}function v(){y(d(mr()))}var w=!1;function y(t){if(w)w=!1,g();else{m.confirmTransitionTo(t,"POP",f,function(e){e?g({action:"POP",location:t}):function(t){var e=R.location,n=x.indexOf(e.key);-1===n&&(n=0);var r=x.indexOf(t.key);-1===r&&(r=0);var i=n-r;i&&(w=!0,M(i))}(t)})}}var _=d(mr()),x=[_.key];function E(t){return l+ur(t)}function M(t){n.go(t)}var k=0;function A(t){1===(k+=t)&&1===t?(window.addEventListener(dr,b),i&&window.addEventListener(pr,v)):0===k&&(window.removeEventListener(dr,b),i&&window.removeEventListener(pr,v))}var T=!1;var R={length:n.length,action:"POP",location:_,createHref:E,push:function(t,e){var i=fr(t,e,p(),R.location);m.confirmTransitionTo(i,"PUSH",f,function(t){if(t){var e=E(i),o=i.key,a=i.state;if(r)if(n.pushState({key:o,state:a},null,e),s)window.location.href=e;else{var u=x.indexOf(R.location.key),f=x.slice(0,-1===u?0:u+1);f.push(i.key),x=f,g({action:"PUSH",location:i})}else window.location.href=e}})},replace:function(t,e){var i=fr(t,e,p(),R.location);m.confirmTransitionTo(i,"REPLACE",f,function(t){if(t){var e=E(i),o=i.key,a=i.state;if(r)if(n.replaceState({key:o,state:a},null,e),s)window.location.replace(e);else{var u=x.indexOf(R.location.key);-1!==u&&(x[u]=i.key),g({action:"REPLACE",location:i})}else window.location.replace(e)}})},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(t){void 0===t&&(t=!1);var e=m.setPrompt(t);return T||(A(1),T=!0),function(){return T&&(T=!1,A(-1)),e()}},listen:function(t){var e=m.appendListener(t);return A(1),function(){A(-1),e()}}};return R}var br=n(33),vr=n.n(br);var wr=class{constructor({basename:t,scenes:e,onUpdate:n}){this.history=gr({basename:t}),this.scenes=e.map(({path:t,scene:e})=>{const n=[];return{test:vr()(t,n),keys:n,scene:e}}),this.onUpdate=n,this.history.listen(this.onLocationUpdate.bind(this)),window.location.hash?this.history.replace(`/${window.location.hash.substr(2)}`):this.onLocationUpdate(this.history.location)}onLocationUpdate({pathname:t}){const{history:e,scenes:n}=this,r=(t,e)=>t.slice(1).reduce((t,n,r)=>({...t,[e[r].name]:n}),{});for(let e=0;e<n.length;e+=1){const{test:i,keys:o,scene:a}=n[e],s=i.exec(t);if(s){const t=r(s,o);return void this.onUpdate(a,t)}}e.replace("/")}goTo(t){const{history:e}=this;e.push(t)}};var yr=class{constructor({mount:t,scenes:e}){const n=document.createElement("canvas");t.appendChild(n),this.canvas=n;const r=n.getContext("webgl2",{alpha:!1,antialias:!1,depth:!0,preserveDrawingBuffer:!1,powerPreference:"high-performance",stencil:!1});r.enable(r.CULL_FACE),r.getExtension("EXT_color_buffer_float"),this.context=r,this.camera=new Dn,this.input=new Wn({mount:t}),this.frame=new jn({renderer:{context:r},position:new Float32Array([-1,-1,0,1,-1,0,1,1,0,1,1,0,-1,1,0,-1,-1,0])}),window.addEventListener("resize",this.onResize.bind(this)),this.onResize(),this.lastTick=window.performance.now(),this.physics=new Gn,this.router=new wr({scenes:e,onUpdate:this.setScene.bind(this)}),this.onAnimationTick()}onAnimationTick(){requestAnimationFrame(this.onAnimationTick.bind(this));const{camera:t,context:e,input:n,lastTick:r,framebuffer:{attachments:i,renderBuffer:o,outputBuffer:a},debug:s,scene:u}=this,f=window.performance.now(),h=f-r;this.lastTick=f,s&&s.counters.render(h),t.processInput({input:n,delta:h,time:f}),u.animate({delta:h,time:f}),["primaryDown","secondaryDown","primaryUp","secondaryUp"].forEach(t=>{n.buttons[t]=!1}),e.bindFramebuffer(e.FRAMEBUFFER,o),e.drawBuffers(i),this.render(),e.bindFramebuffer(e.FRAMEBUFFER,null),e.bindFramebuffer(e.READ_FRAMEBUFFER,o),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,a),Xn.textures.forEach(({id:t,attachment:n})=>{if("depth"===t)e.readBuffer(e.NONE),e.drawBuffers([e.NONE]);else{const t=e[n];e.readBuffer(t),e.drawBuffers(i.map(n=>t===n?t:e.NONE))}e.blitFramebuffer(0,0,e.drawingBufferWidth,e.drawingBufferHeight,0,0,e.drawingBufferWidth,e.drawingBufferHeight,"depth"===t?e.DEPTH_BUFFER_BIT:e.COLOR_BUFFER_BIT,"depth"===t?e.NEAREST:e.LINEAR)}),e.bindFramebuffer(e.READ_FRAMEBUFFER,null),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),this.postprocess()}onResize(){const{camera:t,canvas:e,context:n,framebuffer:r}=this,{innerWidth:i,innerHeight:o}=window;e.width=i,e.height=o,n.viewport(0,0,n.drawingBufferWidth,n.drawingBufferHeight),t.setAspect(n.drawingBufferWidth/n.drawingBufferHeight),r&&r.dispose(),this.framebuffer=new Xn({context:n})}postprocess(){const{camera:t,context:e,frame:n,framebuffer:r,scene:{lights:i,postprocessing:o}}=this;e.clear(e.COLOR_BUFFER_BIT),e.useProgram(o.program),e.uniform3fv(o.uniforms.camera,t.position),i.forEach(({position:t,color:n},r)=>{e.uniform3fv(o.uniforms[`lights[${r}].position`],t),e.uniform3fv(o.uniforms[`lights[${r}].color`],n)}),Xn.textures.forEach(({id:t},n)=>{const i=`${t}Texture`;e.activeTexture(e[`TEXTURE${n}`]),e.bindTexture(e.TEXTURE_2D,r[i]),e.uniform1i(o.uniforms[i],n)}),e.bindVertexArray(n.vao),e.drawArrays(e.TRIANGLES,0,n.count),e.bindVertexArray(null)}render(){const{camera:t,context:e,scene:{materials:n,root:r}}=this;n.forEach(n=>{e.useProgram(n.program),e.uniformMatrix4fv(n.uniforms.camera,!1,t.transform)}),e.enable(e.DEPTH_TEST),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),r.filter(({culling:e})=>t.isInFrustum(e)).forEach(({albedo:t,transform:n,geometry:r,material:i})=>{e.useProgram(i.program),e.uniformMatrix4fv(i.uniforms.transform,!1,n),e.uniform3fv(i.uniforms.albedo,t),e.bindVertexArray(r.vao),r.ebo?e.drawElements(e.TRIANGLES,r.count,e.UNSIGNED_SHORT,0):e.drawArrays(e.TRIANGLES,0,r.count),e.bindVertexArray(null)}),e.disable(e.DEPTH_TEST)}setScene(t,e){const{physics:n,scene:r}=this;r&&r.dispose(),n.reset(),this.scene=new t({...e,renderer:this})}};var _r=class extends jn{constructor({renderer:t,width:e,height:n,depth:r}){super({renderer:t,position:new Float32Array([-.5*e,-.5*n,.5*r,.5*e,-.5*n,.5*r,.5*e,.5*n,.5*r,-.5*e,.5*n,.5*r,.5*e,-.5*n,.5*r,.5*e,-.5*n,-.5*r,.5*e,.5*n,-.5*r,.5*e,.5*n,.5*r,.5*e,-.5*n,-.5*r,-.5*e,-.5*n,-.5*r,-.5*e,.5*n,-.5*r,.5*e,.5*n,-.5*r,-.5*e,-.5*n,-.5*r,-.5*e,-.5*n,.5*r,-.5*e,.5*n,.5*r,-.5*e,.5*n,-.5*r,-.5*e,.5*n,.5*r,.5*e,.5*n,.5*r,.5*e,.5*n,-.5*r,-.5*e,.5*n,-.5*r,-.5*e,-.5*n,-.5*r,.5*e,-.5*n,-.5*r,.5*e,-.5*n,.5*r,-.5*e,-.5*n,.5*r]),normal:new Float32Array([0,0,1,0,0,1,0,0,1,0,0,1,1,0,0,1,0,0,1,0,0,1,0,0,0,0,-1,0,0,-1,0,0,-1,0,0,-1,-1,0,0,-1,0,0,-1,0,0,-1,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0]),index:new Uint16Array([0,1,2,2,3,0,4,5,6,6,7,4,8,9,10,10,11,8,12,13,14,14,15,12,16,17,18,18,19,16,20,21,22,22,23,20]),collision:{type:"box",radius:[.5*e,.5*n,.5*r]}})}};var xr=class extends jn{constructor({renderer:t,map:e,elementSize:n=.3}){const{minValue:r,maxValue:i}=e.reduce(({minValue:t,maxValue:e},n)=>n.reduce(({minValue:t,maxValue:e},n)=>({minValue:Math.min(t,n),maxValue:Math.max(e,n)}),{minValue:t,maxValue:e}),{minValue:1/0,maxValue:-1/0}),a=e[0].length,s=e.length,u=new Float32Array(a*s*3),f=new Float32Array(a*s*3),h=new Uint16Array((a-1)*(s-1)*6);let c=0,l=0;const d=[];for(let t=0;t<s;t+=1){d[t]=[];for(let r=0;r<a;r+=1,c+=3,l+=1)u[c]=r*n,u[c+1]=t*n,u[c+2]=e[r][t],d[t][r]=l}c=0;const p={A:o.create(),B:o.create(),C:o.create(),CB:o.create(),AB:o.create(),N:o.create()},m=(t,e,n)=>{h[c]=t,h[c+1]=e,h[c+2]=n,c+=3,t*=3,e*=3,n*=3,o.set(p.A,u[t],u[t+1],u[t+2]),o.set(p.B,u[e],u[e+1],u[e+2]),o.set(p.C,u[n],u[n+1],u[n+2]),o.sub(p.CB,p.C,p.B),o.sub(p.AB,p.A,p.B),o.cross(p.N,p.CB,p.AB);const[r,i,a]=p.N;[t,e,n].forEach(t=>{f[t]+=r,f[t+1]+=i,f[t+2]+=a})};for(let t=0;t<s-1;t+=1)for(let e=0;e<a-1;e+=1)m(d[t][e],d[t][e+1],d[t+1][e+1]),m(d[t+1][e+1],d[t+1][e],d[t][e]);for(let t=0;t<f.length;t+=3){o.set(p.N,f[t],f[t+1],f[t+2]),o.normalize(p.N,p.N);const[e,n,r]=p.N;f[t]=e,f[t+1]=n,f[t+2]=r}super({renderer:t,position:u,normal:f,index:h,collision:{type:"heightfield",elementSize:n,map:e,minValue:r,maxValue:i}})}};var Er=class extends jn{constructor({renderer:t,width:e,height:n}){super({renderer:t,position:new Float32Array([-.5*e,0,.5*n,.5*e,0,.5*n,.5*e,0,-.5*n,-.5*e,0,-.5*n]),normal:new Float32Array([0,1,0,0,1,0,0,1,0,0,1,0]),index:new Uint16Array([0,1,2,2,3,0]),collision:{type:"box",radius:[.5*e,1,.5*n],offset:[0,-1,0]}})}};var Mr=class{constructor({context:t,shaders:e,uniforms:n=["albedo","camera","transform"]}){this.context=t;const r=this.compile("VERTEX_SHADER",e.vertex),i=this.compile("FRAGMENT_SHADER",e.fragment),o=t.createProgram();this.shaders={vertex:t.attachShader(o,r),fragment:t.attachShader(o,i)},t.linkProgram(o),t.getProgramParameter(o,t.LINK_STATUS)||console.log(`${e.vertex}\n${e.fragment}`),this.program=o,this.uniforms=n.reduce((e,n)=>(e[n]=t.getUniformLocation(o,n),e),{})}compile(t,e){const{context:n}=this,r=n.createShader(n[t]);return n.shaderSource(r,e),n.compileShader(r),n.getShaderParameter(r,n.COMPILE_STATUS)||console.log(`${e}\n`,n.getShaderInfoLog(r)),r}dispose(){const{context:t,program:e,shaders:{vertex:n,fragment:r}}=this;t.deleteProgram(e),t.deleteShader(n),t.deleteShader(r)}};var kr=class{constructor({albedo:t=new Float32Array([1,1,1]),position:e=new Float32Array([0,0,0]),rotation:n=new Float32Array([0,0,0,1]),scale:r=new Float32Array([1,1,1]),geometry:a,material:s,physics:u,onAnimationFrame:f,onContact:h}){this.albedo=t,this.geometry=a,this.material=s,this.physics=u,this.position=e,this.rotation=n,this.scale=r,this.culling={origin:o.create(),radius:0},this.transform=i.create(),this.updateTransform(),f&&(this.onAnimationFrame=f.bind(this)),h&&(this.onContact=h.bind(this))}updateTransform(){const{culling:t,geometry:e,position:n,rotation:r,transform:a,scale:s}=this;i.fromRotationTranslationScale(a,r,n,s),o.transformMat4(t.origin,e.origin,a),t.radius=e.radius*Math.max(s[0],Math.max(s[1],s[2]))}},Ar=n(34),Tr=n.n(Ar);var Rr=function(t){return fetch(t).then(t=>t.arrayBuffer()).then(t=>{const{buffer:e}=Tr.a.inflate(new Uint8Array(t));let n=0;const r=new Uint16Array(e,n,1)[0];n+=Uint16Array.BYTES_PER_ELEMENT;const i=new Uint16Array(e,n,r);n+=Uint16Array.BYTES_PER_ELEMENT*r;const o=new Uint16Array(e,n,1)[0];n+=Uint16Array.BYTES_PER_ELEMENT;const a=new Float32Array(e,n,o);return n+=Float32Array.BYTES_PER_ELEMENT*o,{index:i,position:a,normal:new Float32Array(e,n,o)}})},Sr=n(24),Br=n.n(Sr),Fr=n(25),Lr=n.n(Fr),Pr=n(26),Ur=n.n(Pr),Cr=n(27),zr=n.n(Cr),Or=n(28),Ir=n.n(Or),Dr=n(29),Nr=n.n(Dr);var jr=class{constructor({renderer:t,postprocessing:e}){this.geometries=new Map,this.lights=[...Array(16)].map(()=>({position:new Float32Array([0,0,0]),color:new Float32Array([0,0,0])})),this.materials=new Map,this.postprocessing=new Mr({context:t.context,shaders:{vertex:Ur.a,fragment:zr.a,...e||{}},uniforms:["camera","colorTexture","depthTexture","normalTexture","positionTexture",...this.lights.reduce((t,e,n)=>(t.push(`lights[${n}].position`,`lights[${n}].color`),t),[])]}),this.renderer=t,this.root=[]}add(t){const{geometries:e,materials:n,renderer:{physics:r},root:i}=this;if(i.push(t),e.has(t.geometry.vao)||e.set(t.geometry.vao,t.geometry),n.has(t.material.program)||n.set(t.material.program,t.material),t.physics){if(t.geometry.collision.then)return void(t.physics.body=t.geometry.collision.then(()=>r.addBody(t)));r.addBody(t)}}animate({delta:t,time:e}){const{root:n}=this;n.forEach(n=>{n.onAnimationFrame&&n.onAnimationFrame({delta:t,time:e})})}dispose(){const{geometries:t,materials:e}=this;t.forEach(t=>t.dispose()),e.forEach(t=>t.dispose())}},qr=n(35),Yr=n.n(qr),Hr=n(36),Zr=n.n(Hr);class Wr extends jr{constructor(t){super(t);const{ContactMaterials:e}=Wr,{renderer:n}=this,{camera:r,context:i,physics:s}=n;r.position[1]=1.5,r.position[2]=12,r.updateTransform();const u={ground:new Er({renderer:n,width:128,height:128}),heightfield:new xr({renderer:n,map:[...Array(97)].map((t,e)=>[...Array(97)].map((t,n)=>{const r=Math.sqrt((e-48)**2+(n-48)**2);return r>=32?4-Math.min(.2*(r-32),4)-.2*Math.random():r>=24?4+.5*Math.random():r<=12?2-.5*Math.random():.2*r-.2*Math.random()}))}),light:new _r({renderer:n,width:.15,height:.05,depth:.15}),hinge:new _r({renderer:n,width:1,height:.2,depth:.2}),target:new _r({renderer:n,width:1,height:2,depth:.1}),box:new _r({renderer:n,width:.75,height:.75,depth:.75})},f={grid:new Mr({context:i,shaders:{vertex:Br.a,fragment:Lr.a}}),standard:new Mr({context:i,shaders:{vertex:Ir.a,fragment:Nr.a}})};function h({delta:t}){const{albedo:e,albedoAnimation:n}=this;n&&(n.steps||(n.origin=new Float32Array(e),n.step=0,n.steps=e.map((t,r)=>n.target[r]-e[r])),e.forEach((t,r)=>{const i=n.steps[r]*n.step;e[r]=n.origin[r]+i}),n.step+=.001*t,n.step>=1&&(delete this.albedoAnimation,e.forEach((t,r)=>{e[r]=n.target[r]})))}function c(t){const e=s.bodies.index.get(t[t.length-1]);e&&e.isSphere&&(this.albedoAnimation={target:new Float32Array(e.albedo)})}this.lightsAnimation=0,this.lights.forEach(({color:t},e)=>{o.set(t,Math.random(),Math.random(),Math.random()),o.normalize(t,t);const n=new kr({albedo:o.scale(o.create(),t,2),geometry:u.light,material:f.standard});this.add(n),this.lights[e].mesh=n}),s.addContactMaterial({materialA:0,materialB:e.Frictiony,friction:1,restitution:0}),s.addContactMaterial({materialA:0,materialB:e.Bouncy,friction:.8,restitution:.4}),this.add(new kr({albedo:new Float32Array([.6,.6,.6]),position:new Float32Array([0,-2.5,0]),geometry:u.ground,material:f.grid,physics:{mass:0}})),this.add(new kr({albedo:new Float32Array([.6,.6,.6]),position:new Float32Array([96*.3*-.5,-4,96*.3*.5]),rotation:a.fromEuler(a.create(),-90,0,0),geometry:u.heightfield,material:f.grid,physics:{mass:0}})),[{position:new Float32Array([-3,2,0]),geometry:u.target,material:f.standard},{position:new Float32Array([3,2,0]),geometry:u.target,material:f.standard}].forEach(t=>{const e=new kr({...t,albedo:new Float32Array([.8,.8,.8]),physics:{mass:10},onAnimationFrame:h,onContact:c});this.add(e);const n=new kr({...t,albedo:new Float32Array([.3,.3,.3]),geometry:u.hinge,position:new Float32Array([t.position[0],t.position[1]+1.15,t.position[2]]),physics:{mass:0}});this.add(n),Promise.all([n.physics.body,e.physics.body]).then(()=>s.addConstraint({type:"hinge",bodyA:n.physics.body,bodyB:e.physics.body,pivotB:[0,1.15,0]}))});for(let t=0;t<8;t+=1){const t=new kr({albedo:new Float32Array([Math.random(),Math.random(),Math.random()]),position:new Float32Array([16*Math.random()-8,6*Math.random()+8,16*Math.random()-8]),geometry:u.box,material:f.standard,physics:{mass:5,material:e.Frictiony}});o.normalize(t.albedo,t.albedo),this.add(t)}Rr(Zr.a).then(t=>{const r=new jn({...t,renderer:n,collision:{type:"sphere",radius:.25}});this.sphere=0,this.spheres=[...Array(24)].map(()=>{const t=new kr({albedo:new Float32Array([Math.random(),Math.random(),Math.random()]),position:new Float32Array([16*Math.random()-8,3+8*Math.random(),16*Math.random()-8]),scale:new Float32Array([.5,.5,.5]),geometry:r,material:f.standard,physics:{mass:5,material:e.Bouncy}});return t.isSphere=!0,o.normalize(t.albedo,t.albedo),this.add(t),t})}),Rr(Yr.a).then(t=>this.add(new kr({albedo:new Float32Array([.6,.6,.6]),position:new Float32Array([0,2.2,0]),geometry:new jn({...t,renderer:n,collision:{type:"trimesh",...t}}),material:f.standard,physics:{mass:0,kinematic:!0},onAnimationFrame({delta:t,time:e}){const n=Math.sin(.001*e);a.fromEuler(this.rotation,0,25*n,0),this.updateTransform(),this.physics.body.then||(s.resetBody({body:this.physics.body,rotation:[...this.rotation]}),h.bind(this)({delta:t}))},onContact:c})))}animate(t){super.animate(t);const{renderer:{camera:e,input:n,physics:r},sphere:i,spheres:a}=this;if(a&&n.buttons.primaryDown){const{albedo:t,physics:{body:n}}=a[i];o.set(t,Math.random(),Math.random(),Math.random()),o.normalize(t,t);const s=o.create();o.scaleAndAdd(s,e.position,e.front,.5),r.resetBody({body:n,position:[...s],rotation:[0,0,0,1],velocity:[...o.scale(s,e.front,15)],angularVelocity:[0,0,0]}),this.sphere=(i+1)%a.length}const s=2*Math.PI/this.lights.length;this.lightsAnimation+=2e-4*t.delta;let u=.25*this.lightsAnimation%1;const f=8-6*(u=u>=.5?1-u:u);this.lights.forEach(({mesh:t,position:e},n)=>{const r=s*n-this.lightsAnimation;e[0]=Math.cos(r)*f,e[1]=Math.sin(f+n%2)+2,e[2]=Math.sin(r)*f,o.copy(t.position,e),t.position[1]-=.1,t.updateTransform()})}}Wr.ContactMaterials={Frictiony:1,Bouncy:2};var Vr=[{path:"/",scene:Wr},{path:"/test",scene:class extends jr{constructor(t){super(t);const{renderer:{context:e}}=this,n={grid:new Mr({context:e,shaders:{vertex:Br.a,fragment:Lr.a}})},r={ground:new jn({context:e,position:new Float32Array([-20,0,20,20,0,20,20,0,-20,-20,0,-20]),normal:new Float32Array([0,1,0,0,1,0,0,1,0,0,1,0]),index:new Uint16Array([0,1,2,2,3,0])})};[{albedo:new Float32Array([.2,.3,.2]),geometry:r.ground,material:n.grid}].forEach(t=>this.add(new kr(t))),this.lights.forEach(({position:t,color:e},n)=>{t.set([1.5*(n-8),1,n%2*3-6]),e.set([Math.random(),Math.random(),Math.random()])})}}}];new yr({mount:document.getElementById("mount"),scenes:Vr})}]);
//# sourceMappingURL=51c052319c64840b635c.js.map